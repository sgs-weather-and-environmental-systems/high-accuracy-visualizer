var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.Events=function(t){this.owner=t||this},gc.databind.internal.Events.prototype.addListener=function(t,e){this.fListeners=this.fListeners||{};var n=this.fListeners[t];void 0===n?(this.onFirstListenerAdded(t),this.fListeners[t]=[e]):this.hasListener(t,e)||n.push(e)},gc.databind.internal.Events.prototype.removeListener=function(t,e){var n=void 0===this.fListeners?void 0:this.fListeners[t];if(void 0!==n)for(var a=n.length-1;a>=0;a--)if(e===n[a]){n.splice(a,1),0===n.length&&(this.fListeners[t]=void 0,this.onLastListenerRemoved(t));break}},gc.databind.internal.Events.prototype.hasListener=function(t,e){var n=void 0===this.fListeners?void 0:this.fListeners[t];if(void 0!==n)for(var a=n.length-1;a>=0;a--)if(e===n[a])return!0;return!1},gc.databind.internal.Events.prototype.hasAnyListeners=function(t){var e=void 0===this.fListeners?void 0:this.fListeners[t];return void 0!==e&&e.length>0},gc.databind.internal.Events.prototype.onFirstListenerAdded=function(t){var e=this.owner["onFirst"+t+"ListenerAdded"];void 0!==e&&e.call(this.owner)},gc.databind.internal.Events.prototype.onLastListenerRemoved=function(t){var e=this.owner["onLast"+t+"ListenerRemoved"];void 0!==e&&e.call(this.owner)},gc.databind.internal.Events.prototype.fireEvent=function(){var t=Array.prototype.shift.apply(arguments),e=void 0===this.fListeners?void 0:this.fListeners[t];if(void 0!==e)for(var n=e.length-1;n>=0;n--){var a=e[n];a["on"+t].apply(a,arguments)}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.name="Data Binding",gc.databind.IBind=function(){},gc.databind.IBind.prototype.getStatus=function(){},gc.databind.IBind.prototype.setStatus=function(t){},gc.databind.IBind.prototype.addStatusListener=function(t){},gc.databind.IBind.prototype.removeStatusListener=function(t){},gc.databind.IBind.prototype.getName=function(){},gc.databind.IBind.prototype.setName=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindValue=function(){},gc.databind.IBindValue.prototype=new gc.databind.IBind,gc.databind.IBindValue.prototype.getValue=function(){},gc.databind.IBindValue.prototype.setValue=function(t,e){},gc.databind.IBindValue.prototype.getType=function(){},gc.databind.IBindValue.prototype.addChangedListener=function(t){},gc.databind.IBindValue.prototype.removeChangedListener=function(t){},gc.databind.IBindValue.prototype.isStale=function(){},gc.databind.IBindValue.prototype.addStaleListener=function(t){},gc.databind.IBindValue.prototype.removeStaleListener=function(t){},gc.databind.IBindValue.prototype.isReadOnly=function(){},gc.databind.IBindValue.prototype.addStreamingListener=function(t){},gc.databind.IBindValue.prototype.removeStreamingListener=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindFactory=function(){},gc.databind.IBindFactory.prototype.createNewBind=function(t){},gc.databind.IBindFactory.prototype.getName=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindAction=function(){},gc.databind.IBindAction.prototype=new gc.databind.IBindValue,gc.databind.IBindAction.prototype.getValue=function(){},gc.databind.IBindAction.prototype.run=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStatusListener=function(){},gc.databind.IStatusListener.prototype.onStatusChanged=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindProvider=function(){},gc.databind.IBindProvider.prototype.getBinding=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IChangedListener=function(){},gc.databind.IChangedListener.prototype.onValueChanged=function(t,e,n){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IDisposable=function(){},gc.databind.IDisposable.prototype.dispose=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IProgressCounter=function(){},gc.databind.IProgressCounter.prototype.wait=function(t){},gc.databind.IProgressCounter.prototype.done=function(t){},gc.databind.IProgressCounter.prototype.getProgress=function(){};var gc=gc||{};gc.databind=gc.databind||{},function(){gc.databind.IQualifierBind=function(){},gc.databind.IQualifierBind.prototype.addQualifier=function(t){}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStreamingListener=function(){},gc.databind.IStreamingListener.prototype.onDataReceived=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ProgressCounter=function(t){this._callback=t,this._jobCount=1,this._jobsDone=0},gc.databind.ProgressCounter.prototype=new gc.databind.IProgressCounter,gc.databind.ProgressCounter.prototype.wait=function(t){t=t||1,this._jobCount+=t},gc.databind.ProgressCounter.prototype.done=function(t){t=t||1,this._jobsDone+=t,this._jobsDone==this._jobCount&&void 0!==this._callback&&this._callback()},gc.databind.ProgressCounter.prototype.getProgress=function(){return 100*this._jobCount/this._jobsDone};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.internal.QualifierFactoryMap=function(){},gc.databind.internal.QualifierFactoryMap.add=function(t,e){gc.databind.internal.QualifierFactoryMap.prototype[".$"+t]=e},gc.databind.internal.QualifierFactoryMap.prototype.add=function(t,e){this[".$"+t]=e};var t=".$",e=/\d+$/;gc.databind.internal.QualifierFactoryMap.prototype.parseQualifiers=function(n,a,r){var i=n.lastIndexOf(t);if(i>0){var o=n.substring(i).toLowerCase(),s=o.match(e);s?(s=s[0],o=o.substring(0,o.length-s.length)):s=void 0;var d=this[o];if(d){var c=this.parseQualifiers(n.substring(0,i),a,r);return d(c,s)}}return a.call(r,n)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IFinishedWithResult=function(){},gc.databind.IFinishedWithResult.prototype.done=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ILookupBindValue=function(){},gc.databind.ILookupBindValue.prototype=new gc.databind.IBindValue,gc.databind.ILookupBindValue.prototype.setIndex=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStaleListener=function(){},gc.databind.IStaleListener.prototype.onStaleChanged=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStatus=function(){},gc.databind.StatusType={ERROR:0,WARNING:1},gc.databind.IStatus.prototype.getType=function(){},gc.databind.IStatus.prototype.getMessage=function(){},gc.databind.IStatus.prototype.getId=function(){};var gc=gc||{};gc.widget=gc.widget||{},gc.widget.IStatusIndicator=function(){},gc.widget.StatusIndicatorType={ERROR:"error",WARNING:"warning",INFO:"information"},gc.widget.IStatusIndicator.prototype.addMessage=function(t,e){},gc.widget.IStatusIndicator.prototype.removeMessage=function(t){},gc.widget.StatusIndicator={},gc.widget.StatusIndicator.Factory={},gc.widget.StatusIndicator.Factory.get=function(t){return gc.widget.internal.StatusIndicator.factory.get(t)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IDataBinder=function(){},gc.databind.IDataBinder.prototype.enable=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.AbstractBind=function(){this.fEvents=new gc.databind.internal.Events(this)},gc.databind.AbstractBind.prototype=new gc.databind.IBind,gc.databind.AbstractBind.prototype.addStatusListener=function(t){this.fEvents.addListener("StatusChanged",t)},gc.databind.AbstractBind.prototype.removeStatusListener=function(t){this.fEvents.removeListener("StatusChanged",t)},gc.databind.AbstractBind.prototype.notifyStatusChanged=function(t){this.fEvents.fireEvent("StatusChanged",t)},gc.databind.AbstractBind.prototype.fStatus=null,gc.databind.AbstractBind.prototype.getStatus=function(){return this.fStatus},gc.databind.AbstractBind.prototype.setStatus=function(t){t!=this.fStatus&&(t&&t.equals(this.fStatus)||(this.onStatusChanged(this.fStatus,t),this.fStatus=t,this.notifyStatusChanged(this.fStatus)))},gc.databind.AbstractBind.prototype.onStatusChanged=function(t,e){},gc.databind.AbstractBind.prototype.onFirstStatusChangedListenerAdded=function(){},gc.databind.AbstractBind.prototype.onLastStatusChangedListenerRemoved=function(){},gc.databind.AbstractBind.prototype.getName=function(){return this.fName},gc.databind.AbstractBind.prototype.setName=function(t){this.fName=t},gc.databind.AbstractBind.prototype.toString=function(){return this.getName()};var gc=gc||{};gc.databind=gc.databind||{},function(){var t=new gc.databind.IProgressCounter;gc.databind.AbstractBindValue=function(t){gc.databind.AbstractBind.call(this),t&&t!==this.fDefaultType&&(this.fDefaultType=t)},gc.databind.AbstractBindValue.prototype=new gc.databind.AbstractBind,gc.databind.AbstractBindValue.prototype.addChangedListener=function(t){this.fEvents.addListener("ValueChanged",t)},gc.databind.AbstractBindValue.prototype.removeChangedListener=function(t){this.fEvents.removeListener("ValueChanged",t)},gc.databind.AbstractBindValue.prototype.hasChangedListeners=function(){return this.fEvents.hasAnyListeners("ValueChanged")},gc.databind.AbstractBindValue.prototype.notifyChangedListeners=function(t,e,n){this.fEvents.fireEvent("ValueChanged",t,e,n)},gc.databind.AbstractBindValue.prototype.onFirstValueChangedListenerAdded=function(){},gc.databind.AbstractBindValue.prototype.onLastValueChangedListenerRemoved=function(){};var e=function(t,e){if(t instanceof Array&&e instanceof Array&&t.length===e.length){for(var n=t.length;n-- >0;)if(t[n]!==e[n])return!0;return!1}return!(t===e||"number"==typeof t&&isNaN(t)&&"number"==typeof e&&isNaN(e))};gc.databind.AbstractBindValue.prototype.setValue=function(n,a){if(!this.isReadOnly()&&e(n,this.fCachedValue)){a=a||t;var r=this.fCachedValue;this.fCachedValue=n,this.onValueChanged(r,n,a),this.notifyChangedListeners(r,n,a)}},gc.databind.AbstractBindValue.prototype.updateValue=function(n,a){if(e(n,this.fCachedValue)){var r=this.fCachedValue;this.fCachedValue=n,this.notifyChangedListeners(r,n,a||t)}this.notifyDataReceivedListeners(n)},gc.databind.AbstractBindValue.prototype.getValue=function(){return this.fCachedValue},gc.databind.AbstractBindValue.prototype.getType=function(){var t=this.fDefaultType;return void 0!==this.fCachedValue&&null!==this.fCachedValue&&(t=typeof this.fCachedValue,"object"===t&&this.fCachedValue instanceof Array&&(t="array")),t},gc.databind.AbstractBindValue.prototype.setDefaultType=function(t){this.fDefaultType=t},gc.databind.AbstractBindValue.prototype.onValueChanged=function(t,e,n){},gc.databind.AbstractBindValue.prototype.toString=function(){return void 0===this.fCachedValue?gc.databind.AbstractBind.prototype.toString.call(this):null===this.fCachedValue?"null":this.fCachedValue.toString()},gc.databind.AbstractBindValue.prototype.isStale=function(){return this._isStale||!1},gc.databind.AbstractBindValue.prototype.setStale=function(t){this._isStale!==t&&(this._isStale=t,this.notifyStaleListeners())},gc.databind.AbstractBindValue.prototype.onFirstStaleChangedListenerAdded=function(){},gc.databind.AbstractBindValue.prototype.onLastStaleChangedListenerRemoved=function(){},gc.databind.AbstractBindValue.prototype.addStaleListener=function(t){this.fEvents.addListener("StaleChanged",t)},gc.databind.AbstractBindValue.prototype.removeStaleListener=function(t){this.fEvents.removeListener("StaleChanged",t)},gc.databind.AbstractBindValue.prototype.hasStaleListeners=function(){return this.fEvents.hasAnyListeners("StaleChanged")},gc.databind.AbstractBindValue.prototype.notifyStaleListeners=function(){this.fEvents.fireEvent("StaleChanged")},gc.databind.AbstractBindValue.prototype.isReadOnly=function(){return!1},gc.databind.AbstractBindValue.prototype.addStreamingListener=function(t){this.fEvents.addListener("DataReceived",t)},gc.databind.AbstractBindValue.prototype.removeStreamingListener=function(t){this.fEvents.removeListener("DataReceived",t)},gc.databind.AbstractBindValue.prototype.notifyDataReceivedListeners=function(t){this.fEvents.fireEvent("DataReceived",t)},gc.databind.AbstractBindValue.prototype.onFirstDataReceivedListenerAdded=function(){},gc.databind.AbstractBindValue.prototype.onLastDataReceivedListenerRemoved=function(){}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.AbstractLookupBindValue=function(t){gc.databind.AbstractBindValue.call(this,t)},gc.databind.AbstractLookupBindValue.prototype=new gc.databind.AbstractBindValue,gc.databind.AbstractLookupBindValue.prototype.setIndex=function(){var t=!1;this.fIndexValues=this.fIndexValues||[];for(var e=0;e<arguments.length&&e<this.fIndexValues.length;e++){var n=this.fIndexValues[e],a=arguments[e];n!=a&&(this.fIndexValues[e]=a,t=!0)}for(;e<arguments.length;e++)this.fIndexValues.push(arguments[e]),t=!0;t&&this.onIndexChanged(this.fIndexValues)},gc.databind.AbstractLookupBindValue.prototype.onIndexChanged=function(t){},gc.databind.AbstractLookupBindValue.prototype.getIndex=function(){return this.fIndexValues},gc.databind.AbstractLookupBindValue.prototype.assertNotNull=function(t){if(null===t||void 0===t)throw"The index value is null."},gc.databind.AbstractLookupBindValue.prototype.assertValidArrayIndex=function(t,e,n){if(this.assertNotNull(t),isNaN(t))throw"The index is not valid. Cannot convert '"+t+"' to an integer.";n=n||0,e=e||1;var a=e+n-1;if(t=parseInt(t),t<n||t>a)throw"The index "+t+" is out of bounds.  It must be between "+n+" and "+a;return t},gc.databind.AbstractLookupBindValue.prototype.assertValidFieldName=function(t,e){if(this.assertNotNull(t),t=t.toString(),void 0===e||!e.hasOwnProperty(t))throw"The index '"+t+"' was not found.";return t},gc.databind.AbstractLookupBindValue.prototype.assertValidData=function(t,e){if(this.assertNotNull(t),void 0===e)throw"The index '"+t+"' was not found."};var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(t){this._bindings=t};t.prototype.readData=function(){var t={};for(var e in this._bindings)if(this._bindings.hasOwnProperty(e)){var n=this._bindings[e];n.isReadOnly()||void 0!==n.excludeFromStorageProviderData||(t[e]=this._bindings[e].getValue())}return t},t.prototype.writeData=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=this._bindings[e];n&&n.setValue(t[e])}};var e="$target_connected";gc.databind.AbstractBindFactory=function(t){void 0!==t&&(this._id=t)},gc.databind.AbstractBindFactory.prototype=new gc.databind.IBindFactory,gc.databind.AbstractBindFactory.prototype.init=function(){this._modelBindings={},this._modelBindings[e]=new gc.databind.VariableBindValue((!1),(!0)),this._modelQualifiers=new gc.databind.internal.QualifierFactoryMap;var n=this._modelBindings;gc.File=gc.File||{},gc.File.ready=gc.File.ready||Q.Promise(function(t){gc.File.fireReady=t}),gc.File.ready.then(function(){gc.File.addDataProvider(name,new t(n))})},gc.databind.AbstractBindFactory.prototype.getName=function(){return this._id},gc.databind.AbstractBindFactory.prototype.getBinding=function(t){var e=this._modelBindings[t];return e||(e=this.createNewBind(t),this._modelBindings[t]=e),e},gc.databind.AbstractBindFactory.prototype.parseModelBinding=function(t){return this._modelQualifiers.parseQualifiers(t,this.getBinding,this)},gc.databind.AbstractBindFactory.prototype.getAllBindings=function(){return this._modelBindings},gc.databind.AbstractBindFactory.prototype.setConnectedState=function(t){this._modeBindings[e].updateValue(t)},gc.databind.AbstractBindFactory.prototype.isConnected=function(){return this._modeBindings[e].getValue()},gc.databind.AbstractBindFactory.prototype.addQualifier=function(t,e){this._modelQualifiers.add(t,e)}}();var gc=gc||{};gc.databind=gc.databind||{},function(){gc.databind.AbstractStatus=function(t){void 0!==t&&(this.type=t)},gc.databind.AbstractStatus.prototype=new gc.databind.IStatus,gc.databind.AbstractStatus.prototype.getId=function(){return this.id},gc.databind.AbstractStatus.prototype.getType=function(){return this.type},gc.databind.AbstractStatus.prototype.getMessage=function(){return this.message},gc.databind.AbstractStatus.prototype.equals=function(t){return t&&t.getMessage()===this.message&&t.getType()===this.type&&t.getId()===this.id||!1};var t={},e={},n=function(n,a,r){if(void 0===a)return null;n=n||gc.databind.StatusType.ERROR;var i=t[n];if(void 0===i&&(i=new gc.databind.AbstractStatus(n),t[n]=i),void 0!==r){e[n]=e[n]||{};var o=e[n];o.hasOwnProperty(r)?i=o[r]:(o[r]=Object.create(i),i=o[r],i.id=r)}var s=Object.create(i);return s.message=a,s};gc.databind.AbstractStatus.createErrorStatus=function(t,e){return n(gc.databind.StatusType.ERROR,t,e)},gc.databind.AbstractStatus.createWarningStatus=function(t,e){return n(gc.databind.StatusType.WARNING,t,e)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.BindListenerAdapter=function(){},gc.databind.BindListenerAdapter.prototype.onStatusChanged=function(t){},gc.databind.BindListenerAdapter.prototype.onValueChanged=function(t,e,n){},gc.databind.BindListenerAdapter.prototype.onStaleChanged=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.VariableBindValue=function(t,e){gc.databind.AbstractBindValue.call(this),this.fCachedValue!=t&&(this.fCachedValue=t),void 0!==e&&this._readOnly!=e&&(this._readOnly=e)},gc.databind.VariableBindValue.prototype=new gc.databind.AbstractBindValue,gc.databind.VariableBindValue.prototype._readOnly=!1,gc.databind.VariableBindValue.prototype.setValue=function(t,e){this._readOnly||gc.databind.AbstractBindValue.prototype.setValue.call(this,t,e)},gc.databind.VariableBindValue.prototype.isReadOnly=function(){return this._readOnly};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.VariableLookupBindValue=function(t,e){gc.databind.AbstractLookupBindValue.call(this),this.data=t,void 0!==e&&e!=this._readOnly&&(this._readOnly=e)},gc.databind.VariableLookupBindValue.prototype=new gc.databind.AbstractLookupBindValue,gc.databind.VariableLookupBindValue.prototype._readOnly=!1,gc.databind.VariableLookupBindValue.prototype.setValue=function(t,e){this._readOnly||gc.databind.AbstractLookupBindValue.prototype.setValue.call(this,t,e)},gc.databind.VariableLookupBindValue.prototype.isReadOnly=function(){return this._readOnly},gc.databind.VariableLookupBindValue.prototype.onIndexChanged=function(t){var e=this.data;try{for(var n=0;void 0!==e&&n<t.length;n++){var a=t[n];if(null===a||void 0===a)throw"The index value is null.";if(e instanceof Array)e=e[this.assertValidArrayIndex(a,e.length)];else if("object"==typeof e)for(var r=a.toString().split("."),i=0;i<r.length;i++)a=r[i],e=e[a],void 0===e&&this.assertValidFieldName(a);else this.assertValidData(a)}this.setStatus(null)}catch(t){e=void 0,this.setStatus(gc.databind.AbstractStatus.createErrorStatus(t))}this.updateValue(e)},gc.databind.VariableLookupBindValue.prototype.setData=function(t){this.data=t,this.onIndexChanged(this.fIndexValues)},gc.databind.VariableLookupBindValue.prototype.getData=function(t){return this.data},gc.databind.AbstractLookupBindValue.prototype.toString=function(){try{return JSON.stringify(this.data)}catch(t){return""+this.data}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ConstantBindValue=function(t){gc.databind.VariableBindValue.call(this,t)},gc.databind.ConstantBindValue.prototype=new gc.databind.VariableBindValue((void 0),(!0));var gc=gc||{};gc.databind=gc.databind||{},gc.databind.FunctionBindValue=function(t,e){gc.databind.AbstractLookupBindValue.call(this),this.functionMethod=t,void 0!==e&&(this.functionThis=e)},gc.databind.FunctionBindValue.prototype=new gc.databind.AbstractLookupBindValue,gc.databind.FunctionBindValue.prototype.setValue=function(t,e){},gc.databind.FunctionBindValue.prototype.isReadOnly=function(){return!0},gc.databind.FunctionBindValue.prototype.onIndexChanged=function(){try{gc.databind.AbstractBindValue.prototype.setValue(this.functionMethod.apply(this.functionThis,arguments)),this.setStatus(null)}catch(t){this.setStatus(gc.databind.AbstractStatus.createErrorStatus(t))}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.CollectionBindValue=function(t){this.bindings=t},gc.databind.CollectionBindValue.prototype=new gc.databind.IBindValue,gc.databind.CollectionBindValue.prototype.getValue=function(){var t={};for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&(t[e]=this.bindings[e].getValue());return t},gc.databind.CollectionBindValue.prototype.setValue=function(t,e){for(var n in this.bindings)if(this.bindings.hasOwnProperty(n)){var a=t[n],r=this.bindings[n];void 0!==a&&(a=gc.databind.DataConverter.convert(a,void 0,r.getType()),r.setValue(a,e))}},gc.databind.CollectionBindValue.prototype.getType=function(){return"object"},gc.databind.CollectionBindValue.prototype.addChangedListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addChangedListener(t)},gc.databind.CollectionBindValue.prototype.removeChangedListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeChangedListener(t)},gc.databind.CollectionBindValue.prototype.addStreamingListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addStreamingListener(t)},gc.databind.CollectionBindValue.prototype.removeStreamingListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeStreamingListener(t)},gc.databind.CollectionBindValue.prototype.isStale=function(){for(var t in this.bindings)if(this.bindings.hasOwnProperty(t)&&this.bindings[t].isStale())return!0;return!1},gc.databind.CollectionBindValue.prototype.addStaleListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addStaleListener(t)},gc.databind.CollectionBindValue.prototype.removeStaleListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeStaleListener(t)},gc.databind.CollectionBindValue.prototype.isReadOnly=function(){for(var t in this.bindings)if(this.bindings.hasOwnProperty(t)&&this.bindings[t].isReadOnly())return!0;return!1},gc.databind.CollectionBindValue.prototype.getStatus=function(){if(this._status)return this._status;for(var t in this.bindings)if(this.bindings.hasOwnProperty(t)){var e=this.bindings[t].getStatus();if(e)return e}return null},gc.databind.CollectionBindValue.prototype.setStatus=function(t){this._status=t},gc.databind.CollectionBindValue.prototype.addStatusListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addStatusListener(t)},gc.databind.CollectionBindValue.prototype.removeStatusListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeStatusListener(t)},gc.databind.CollectionBindValue.prototype.getName=function(){return this._name},gc.databind.CollectionBindValue.prototype.setName=function(t){this._name=t};var gc=gc||{};gc.databind=gc.databind||{},function(){var t={convert:function(t){return t}},e=function(t){try{return JSON.stringify(t)}catch(e){return""+t}},n={string:{any:{convert:function(t){return""+t}},object:{convert:e}},boolean:{any:{convert:function(t){return!!t}},string:{convert:function(t){return isNaN(+t)?"true"===t.toLowerCase().trim():0!==+t}}},number:{any:{convert:function(t){return+t}}}};gc.databind.DataConverter=function(){},gc.databind.DataConverter.register=function(t,e,a){if(null!==e){a=a||"any";var r=n[e];r||(r={},n[e]=r),r[a]=t}},gc.databind.DataConverter.getConverter=function(e,a){var r=t,i=n[a];return void 0!==i&&(r=i[e||"any"],void 0===r&&(r=i.any)),r},gc.databind.DataConverter.convert=function(t,e,n,a){return null===t||void 0===t?t:(e=e||typeof t,e===n||void 0===n||null===n?t:this.getConverter(e,n).convert(t,a))}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.IOperator=function(){},gc.databind.internal.expressionParser.IOperator.Factory=function(){},gc.databind.internal.expressionParser.IOperator.Factory.prototype.parse=function(t,e,n){},gc.databind.internal.expressionParser.IOperator.Factory.prototype.getOperator=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.IUriBindingFactory=function(){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.parse=function(t,e,n){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.parseLookupExpression=function(t,e){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.parseExpression=function(t,e){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.bindValue=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractLiteralBinding=function(){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addStreamingListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeStreamingListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addChangedListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeChangedListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addStatusListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeStatusListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getValue=function(){return this.literalValue},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.setValue=function(t,e){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getType=function(){return typeof this.literalValue},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getStatus=function(){return null},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.setStatus=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.isStale=function(){return!1},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addStaleListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeStaleListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.isReadOnly=function(){return!0},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getName=function(){return this.fName};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractUnaryOperator=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype.createOperator=function(){},gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype.parse=function(t,e,n){if(0===t.indexOf(this.operator)){var a=t.substring(this.operator.length),r=e.parseExpression(a,n);if(null!==r){var i=this.createOperator();return i.operand=r,i}}return null},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addStreamingListener=function(t){this.operand.addStreamingListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeStreamingListener=function(t){this.operand.removeStreamingListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addChangedListener=function(t){this.operand.addChangedListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeChangedListener=function(t){this.operand.removeChangedListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getStatus=function(){return this.operand.getStatus()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.setStatus=function(t){this.operand.setStatus(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addStatusListener=function(t){this.operand.addStatusListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeStatusListener=function(t){this.operand.removeStatusListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.dispose=function(){void 0!==this.operand.dispose&&this.operand.dispose()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.setValue=function(t,e){if(null!==t&&void 0!==t){var n,a=this.operand.getType();try{if("boolean"===a)n=this.doBooleanOperation(t,!0);else if("number"===a)n=this.doNumericOperation(t,!0);else if("array"===a)n=this.doArrayOperation(t,!0);else if("string"===a)n=this.doStringOperation(t,!0);else{if("object"!==a)throw"Operation '"+this.operation+"' does not support "+a+"types";n=this.doObjectOperation(t,!0)}this.operand.setValue(n,e)}catch(t){this.setStatus(gc.databind.AbstractStatus.createErrorStatus(t))}}},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getValue=function(){var t=this.operand.getValue();if(null===t||void 0===t)return t;var e=this.operand.getType();try{if("boolean"===e)return this.doBooleanOperation(t,!1);if("number"===e)return this.doNumericOperation(t,!1);if("array"===e)return this.doArrayOperation(t,!1);if("string"===e)return this.doStringOperation(t,!1);if("object"===e)return this.doObjectOperation(t,!1);throw"Operator '"+this.operator+"' does not support "+e+" types"}catch(t){return this.setStatus(gc.databind.AbstractStatus.createErrorStatus(t)),null}},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doBooleanOperation=function(t,e){if(void 0!==this.evalBoolean)return this.evalBoolean(t,e);throw"Operator '"+this.operator+"' does not support boolean types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doNumericOperation=function(t,e){if(void 0!==this.evalNumber)return this.evalNumber(t,e);throw"Operator '"+this.operator+"' does not support numeric types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doArrayOperation=function(t,e){if(void 0!==this.evalArray)return t instanceof Array?this.evalArray(t,e):this.evalArray([t],e);throw"Operator '"+this.operator+"' does not support array types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doStringOperation=function(t,e){if(void 0!==this.evalString)return this.evalString(t,e);throw"Operator '"+this.operator+"' does not support string types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doObjectOperation=function(t,e){if(void 0!==this.evalObject)return this.evalObject(t,e);t=t.valueOf();var n=typeof t;if("number"===n&&void 0!==this.evalNumber)return this.evalNumber(t,e);if(void 0!==this.evalString)return this.evalString(t.toString(),e);throw"Operator '"+this.operator+"' does not support object types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getType=function(){return this.operand.getType()},gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype.getOperator=function(){return this.operator},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.toString=function(){return this.operator+this.operand.toString()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.isStale=function(){return this.operand.isStale()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addStaleListener=function(t){
this.operand.addStaleListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeStaleListener=function(t){this.operand.removeStaleListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.isReadOnly=function(){return this.operand.isReadOnly()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getName=function(){return this.fName};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractBinaryOperator=function(t){t&&(this.operator=t),this.fEvents=new gc.databind.internal.Events(this)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype.createOperator=function(){},gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype.parse=function(t,e,n){var a=e.findLastIndexOf(t,this.operator);if(a>0&&a<t.length-1){var r=t.substring(0,a),i=e.parseExpression(r,n);r=t.substring(a+this.operator.length);var o=e.parseExpression(r,n+1),s=this.createOperator();return s.leftOperand=i,s.rightOperand=o,s}return null},gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype.getOperator=function(){return this.operator},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.toString=function(){return this.leftOperand.toString()+" "+this.operator+" "+this.rightOperand.toString()},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.setValue=function(t,e){if(!this.isReadOnly())try{if(this.leftOperand.isReadOnly()){t=this.doSetValue(t,this.leftOperand.getValue(),!0);var n=this.rightOperand.getType();t=gc.databind.internal.DataConverter.convert(t,typeof t,n),this.rightOperand.setValue(t,e)}else{t=this.doSetValue(t,this.rightOperand.getValue(),!1);var a=this.leftOperand.getType();t=gc.databind.internal.DataConverter.convert(t,typeof t,a),this.leftOperand.setValue(t,e)}}catch(t){this.setStatus(gc.databind.AbstractStatus.createErrorStatus(t))}},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addStreamingListener=function(t){this.leftOperand.addStreamingListener(t),this.rightOperand.addStreamingListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeStreamingListener=function(t){this.leftOperand.removeStreamingListener(t),this.rightOperand.removeStreamingListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addChangedListener=function(t){this.leftOperand.addChangedListener(t),this.rightOperand.addChangedListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeChangedListener=function(t){this.leftOperand.removeChangedListener(t),this.rightOperand.removeChangedListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addStatusListener=function(t){this.fEvents.addListener("StatusChanged",t),this.leftOperand.addStatusListener(t),this.rightOperand.addStatusListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeStatusListener=function(t){this.fEvents.removeListener("StatusChanged",t),this.leftOperand.removeStatusListener(t),this.rightOperand.removeStatusListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.dispose=function(){void 0!==this.leftOperand.dispose&&this.leftOperand.dispose(),void 0!==this.rightOperand.dispose&&this.rightOperand.dispose()},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.fStatus=null,gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getStatus=function(){var t=this.fStatus;return null===t&&(t=this.leftOperand.getStatus()),null===t&&(t=this.rightOperand.getStatus()),t},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.notifyStatusChanged=function(t){this.fEvents.fireEvent("StatusChanged",t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.setStatus=function(t){t!=this.fStatus&&(this.onStatusChanged(this.fStatus,t),this.fStatus=t,this.notifyStatusChanged(this.fStatus))},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.onStatusChanged=function(t,e){},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getName=function(){return this.fName},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doBooleanOperation=function(t,e){if(void 0!==this.evalBoolean)return this.evalBoolean(t,e);throw"Operator '"+this.operator+"' does not support boolean types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doNumericOperation=function(t,e){if(void 0!==this.evalNumber)return this.evalNumber(t,e);throw"Operator '"+this.operator+"' does not support numeric types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doArrayOperation=function(t,e){if(void 0!==this.evalArray)return this.evalArray(t,e);throw"Operator '"+this.operator+"' does not support array types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doStringOperation=function(t,e){if(void 0!==this.evalString)return this.evalString(t,e);throw"Operator '"+this.operator+"' does not support string types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doObjectOperation=function(t,e){if(void 0!==this.evalObject)return this.evalObject(t,e);throw"Operator '"+this.operator+"' does not support object types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getValue=function(){var t=this.leftOperand.getValue(),e=this.rightOperand.getValue();if(null===t||null===e)return null;if(void 0!==t&&void 0!==e){var n=this.leftOperand.getType(),a=this.rightOperand.getType();try{if("boolean"===n&&"boolean"===a)return this.doBooleanOperation(t,e);if("array"===n)return this.doArrayOperation(t,"array"===a?e:[e]);if("array"===a)return this.doArrayOperation([t],e);if("string"===n)return this.doStringOperation(t,"string"===a?e:e.toString());if("string"===a)return this.doStringOperation(t.toString(),e);if("number"===n&&"number"===a)return this.doNumericOperation(t,e);if("number"===n&&"number"==typeof e.valueOf())return this.doNumericOperation(t,e.valueOf());if("number"===n&&"boolean"===a)return this.doNumericOperation(t,e?1:0);if("number"===a&&"number"==typeof t.valueOf())return this.doNumericOperation(t.valueOf(),e);if("number"===a&&"boolean"===n)return this.doNumericOperation(t?1:0,e);if(void 0!==this.evalString)return this.doStringOperation(t.toString(),e.toString());if("object"===n&&"object"===a)return this.doObjectOperation(t,e);var r="object";throw void 0!==this.evalBoolean||"boolean"!==n&&"boolean"!==a||(r="boolean"),void 0!==this.evalNumber||"number"!==n&&"number"!==a||(r="numeric"),"Operator '"+this.operator+"' does not support "+r+" types"}catch(t){return this.setStatus(gc.databind.AbstractStatus.createErrorStatus(t)),null}}},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getType=function(){var t=this.getValue();if(null!==t&&void 0!==t){var e=typeof t;return"object"===e&&t instanceof Array&&(e="array"),e}var n=this.leftOperand.getType(),a=this.rightOperand.getType();return n===a?n:"array"===n||"array"===a?"array":"string"===n||"string"===a?"string":"number"===n||"number"===a?"number":"object"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.isStale=function(){return this.leftOperand.isStale()||this.rightOperand.isStale()},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addStaleListener=function(t){this.leftOperand.addStaleListener(t),this.rightOperand.addStaleListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeStaleListener=function(t){this.leftOperand.removeStaleListener(t),this.rightOperand.removeStaleListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.isReadOnly=function(){return void 0!==this.doSetValue&&(this.leftOperand.isReadOnly()?1:0)^(this.rightOperand.isReadOnly()?1:0)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractComparisonOperator=function(t){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this),t&&(this.operator=t)},gc.databind.internal.expressionParser.AbstractComparisonOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator,gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory,gc.databind.internal.expressionParser.AbstractComparisonOperator.prototype.getType=function(){return"boolean"},gc.databind.internal.expressionParser.AbstractComparisonOperator.prototype.isReadOnly=function(){return!0};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t=function(t){return t>="0"&&t<="9"||"."===t},e=/[^A-Za-z$_\.0-9]+/,n=function(t,e,n){this.openingBrace=t,this.closingBrace=e,this.link=n};n.prototype.countBraces=function(t,e,n){for(var a=0,r=0;r<=n&&(r=t.indexOf(e,r),!(r<0||r>n));)0!==r&&("\\"===t.charAt(r-1)||null!==this.link&&this.link.isInBracket(t,r))||a++,r+=e.length;return a},n.prototype.isInBracket=function(t,e){var n=this.countBraces(t,this.openingBrace,e);if(n>0){if(this.closingBrace!==this.openingBrace)return n-=this.countBraces(t,this.closingBrace,e),0!==n;if(0!==(1&n))return!0}return null!==this.link&&this.link.isInBracket(t,e)};var a=function(t,e){var n="Unexpected character";throw n+=t.length>1?'s "'+t+'" were':' "'+t+'" was',n+=" found.  If this was suppose to be an operator, it is not supported.",null!==e&&(n+="  Also, I do not recognize this as part of a literal.  "+e),n},r=function(t,e){0===t.trim().length?this.composeUnexpectedWhiteSpaceErrMsg(t):a(t,e)},i=function(t,e){throw"To be honest, I was expecting to find a terminating "+e+' after "'+t+'".'},o=function(t){throw"To be honest, I was expecting to find an operator at the beginning of this expression: "+t};gc.databind.internal.expressionParser.AbstractUriBindingFactory=function(){},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype=new gc.databind.internal.expressionParser.IUriBindingFactory,gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingClosingBraceErrMsg=i,gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingOperatorErrMsg=o;var s=function(){this._operatorFactories=this._operatorFactories||[],this._brackets=this._brackets||new n("(",")",null)};gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.addOperatorFactory=function(t){s.call(this),arguments.length>1&&(t=new gc.databind.internal.expressionParser.OperatorList(arguments)),this._operatorFactories.push(t)},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.addBraces=function(t,e){s.call(this),this._brackets.link=new n(t,e,this._brackets.link)},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.parseLiteral=function(t){var e=gc.databind.internal.expressionParser.NumberLiteral.parseLiteral(t);return null===e&&(e=gc.databind.internal.expressionParser.BooleanLiteral.parseLiteral(t)),null===e&&(e=gc.databind.internal.expressionParser.StringLiteral.parseLiteral(t)),e},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.parseLookupExpression=function(t,e){return this.parse(t,e,!0)},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.findFirstIndexOf=function(t,e,n){for(var a=n,r=e.length-2;;){if(a=t.indexOf(e,a),!(a>0&&this._brackets.isInBracket(t,a+r)))break;if(a+=e.length,a>=t.length){a=-1;break}}return a},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.findLastIndexOf=function(t,e,n){for(var a=t.lastIndexOf(e),r=n?e.length-1:-1;a>0&&this._brackets.isInBracket(t,a+r);)a=t.lastIndexOf(e,a-e.length);return a},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.findMatchingBrace=function(t,e,n){var a=-1,r=-1;do a=this.findFirstIndexOf(t,n,a+1),r=this.findFirstIndexOf(t,e,r+1);while(r>=0&&a>r);return a};var d=function(t,e,n){throw"Invalid identifier found"+(n||"")+': "'+t+'".  To be honest, '+e};gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.testIdentifier=function(n,a){if(t(n.charAt(0)))"."===n.charAt(0)?d(n,"I was not expecting it to begin with a period."):d(n,"I was not expecting it to begin with a number.");else{var r=e.exec(n);null!==r&&d(n,'I was not expecting to find "'+r[0]+'".')}},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.parse=function(n,a,i){if(null===n||void 0===n||0===n.length)return null;a=a||0;var o=null,s=e.exec(n);if(null!==s)for(var d=a;d<this._operatorFactories.length&&null===o;d++){var c=this._operatorFactories[d];o=c.parse(n,this,d)}var p=null;if(null===o)try{o=this.parseLiteral(n)}catch(e){if(t(n.charAt(0)))throw e;p=e.toString()}return null===o&&(null===s?o=this.bindValue(n,i):r(s[0],p)),o&&o.setIndex&&o.setIndex(),o}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractLookupOperator=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype=new gc.databind.ILookupBindValue,gc.databind.internal.expressionParser.AbstractLookupOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.testLookupBinding=function(t){if(!(t instanceof gc.databind.AbstractLookupBindValue||t instanceof gc.databind.ILookupBindValue)){var e="()"===this.operator?"a function":"."===this.operator?"an object":"an array";throw"'"+t.getName()+"' is not "+e+" type.  It cannot be used with the "+this.operator+" operator."}},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.parse=function(t,e,n){var a=this.operator.charAt(0),r=this.operator.charAt(1),i=e.findLastIndexOf(t,r,!0);if(i>=0){if(i===t.length-1){var o=e.findLastIndexOf(t,a);if(0===o)return this.parseLiteral(t.substring(1,t.length-1),e,n);if(o<0)throw"I found a '"+r+"' operator, but I couldn't find the matching '"+a+"' operator.  To be honest I was expecting one in the following text: "+t.substring(0,i+1);if(o===i-1)throw"I found an empty operator '"+this.operator+"'.  To be honest, I was expecting to find something inside.";var s=t.substring(0,o),d=t.substring(o+1,i);if("Q"===s)return gc.databind.internal.expressionParser.QFunctionOperator.factory.parse(d,e,0);for(;"("===s.charAt(0)&&")"===s.charAt(s.length-1);)n=0,s=s.substring(1,s.length-1);var c=e.parseLookupExpression(s,n);c.setName(s),this.testLookupBinding(c);for(var p=[],g=d.split(","),l=0;l<g.length;l++){var u=g[l];if(0===u.length)throw"Empty array index or function parameter.  To be honest, I was expecting one or more parameters separated by commas, but found that one of the parameters was empty in: "+d;var b=e.parseExpression(u,0);if(!b)throw'Index binding "'+u+'" does not exist';p.push(b)}var h=this.createOperator();h.lookupBinding=c,h.indexBindings=p;for(var f=p.length;f-- >0;)p[f].addChangedListener(h);return h}if("."===t.charAt(i+1)&&i<t.length-2)return gc.databind.internal.expressionParser.DotOperator.factory.parse(t,e,n);throw"I found an operator '"+this.operator+"' with unexpected characters following it.  To be honest, I was not expecting to find another operator after the last '"+r+" in the following text: "+t.substring(i+1)}return null},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.parseLiteral=function(){},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.getOperator=function(){return this.operator},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addChangedListener=function(t){this.lookupBinding.addChangedListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeChangedListener=function(t){this.lookupBinding.removeChangedListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getStatus=function(){for(var t=this.lookupBinding.getStatus(),e=0;null===t&&e<this.indexBindings.length;e++)t=this.indexBindings[e].getStatus();return t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setStatus=function(t){this.lookupBinding.setStatus(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addStatusListener=function(t){this.lookupBinding.addStatusListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].addStatusListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeStatusListener=function(t){this.lookupBinding.removeStatusListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].removeStatusListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.dispose=function(){void 0!==this.lookupBinding.dispose&&this.lookupBinding.dispose();for(var t=this.indexBindings.length;t-- >0;){var e=this.indexBindings[t];e.removeChangedListener(this),void 0!==e.dispose&&e.dispose()}},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getType=function(){return this.lookupBinding.getType()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.isStale=function(){for(var t=this.lookupBinding.isStale(),e=this.indexBindings.length;t===!1&&e-- >0;)t=this.indexBindings[e].isStale();return t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addStaleListener=function(t){this.lookupBinding.addStaleListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].addStaleListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeStaleListener=function(t){this.lookupBinding.removeStaleListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].removeStaleListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.isReadOnly=function(){return this.lookupBinding.isReadOnly()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getName=function(){return this.fName},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.onStaleChanged=function(){this._staleIndexBinding.removeStaleListener(this),this._staleIndexBinding=void 0,this.setIndex.apply(this,this._cachedIndecies)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setIndex=function(){for(var t=[],e=0;e<this.indexBindings.length;e++){var n=this.indexBindings[e];if(n.isStale())return void 0===this._staleIndexBinding&&(this._staleIndexBinding=n,n.addStaleListener(this)),void(this._cachedIndecies=arguments);t.push(n.getValue())}for(e=0;e<arguments.length;e++)t.push(arguments[e]);this.lookupBinding.setIndex.apply(this.lookupBinding,t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getValue=function(){return this.lookupBinding.getValue()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setValue=function(t,e){this.lookupBinding.setValue(t,e)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.onValueChanged=function(t,e,n){this.setIndex()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.toString=function(){for(var t=this.lookupBinding.toString()+this.operator.charAt(0)+this.indexBindings[0].toString(),e=1;e<this.indexBindings.length;e++)t+=", "+this.indexBindings[e].toString();return t+this.operator.charAt(1)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="+";gc.databind.internal.expressionParser.AdditionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.AdditionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.AdditionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.AdditionOperator},new e}(),gc.databind.internal.expressionParser.AdditionOperator.prototype.evalArray=function(t,e){var n;if(0===t.length)n=e;else if(0===e.length)n=t;else{n=[];for(var a=0;a<t.length;a++)n.push(t[a]);for(a=0;a<e.length;a++)n.push(e[a])}return n},gc.databind.internal.expressionParser.AdditionOperator.prototype.evalString=gc.databind.internal.expressionParser.AdditionOperator.prototype.evalNumber=function(t,e){return t+e},gc.databind.internal.expressionParser.AdditionOperator.prototype.doSetValue=function(t,e,n){var a=this.getType();if("string"==a){var r=e.toString();if(n){if(0===t.indexOf(r))return t.substring(r.length)}else if(t.lastIndexOf(r)+r.length==t.length)return t.substring(0,t.length-r.length)}else if("number"==a)return t-e;return t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="~";gc.databind.internal.expressionParser.ArithmeticNotOperator=function(){},gc.databind.internal.expressionParser.ArithmeticNotOperator.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator(t),gc.databind.internal.expressionParser.ArithmeticNotOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.ArithmeticNotOperator},new e}(),gc.databind.internal.expressionParser.ArithmeticNotOperator.prototype.evalNumber=function(t,e){return~t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="[",e="]",n=",";gc.databind.internal.expressionParser.ArrayLiteral=function(t){this.literalValue=t},gc.databind.internal.expressionParser.ArrayLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding,gc.databind.internal.expressionParser.ArrayLiteral.prototype.getType=function(){return"array"},gc.databind.internal.expressionParser.ArrayLiteral.prototype.toString=function(){for(var a=t+this.literalValue.length===0?"":this.literalValue[0].toString(),r=1;r<this.literalValue.length;r++)a+=n+this.literalValue[r].toString();return a+e},gc.databind.internal.expressionParser.ArrayLiteral.parseLiteral=function(t){var e=t.split(n);if(null===e||0===e.length)return new gc.databind.internal.expressionParser.ArrayLiteral([]);if(1==e.length)return new gc.databind.internal.expressionParser.ArrayLiteral([e[0]]);for(var a=[],r=[],i=[],o=0;o<e.length;o++){var s=e[o].trim();if(s.length>0){if(r.push(s),void 0!==i){var d=gc.databind.internal.expressionParser.BooleanLiteral.parse(s);null!==d?i.push(d):i=void 0}if(void 0!==a){var c=gc.databind.internal.expressionParser.NumberLiteral.parse(s);null!==c?a.push(c):a=void 0}}else r.push(""),void 0!==a&&a.push(0),void 0!==i&&i.push(!1)}return new gc.databind.internal.expressionParser.ArrayLiteral(i||a||r)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.BooleanLiteral=function(t){this.literalValue=t},gc.databind.internal.expressionParser.BooleanLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding,gc.databind.internal.expressionParser.BooleanLiteral.prototype.toString=function(){return literalValue.toString()},gc.databind.internal.expressionParser.BooleanLiteral.parse=function(t){var e=t.toUpperCase();return"TRUE"==e||"FALSE"==e?"TRUE"==e:null},gc.databind.internal.expressionParser.BooleanLiteral.parseLiteral=function(t){var e=gc.databind.internal.expressionParser.BooleanLiteral.parse(t);return null!==e?new gc.databind.internal.expressionParser.BooleanLiteral(e):null};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){gc.databind.internal.expressionParser.StringLiteral=function(e){this.literalValue=e.split("\\'").join(t),this.literalValue=this.literalValue.split("\\\\").join("\\")},gc.databind.internal.expressionParser.StringLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding;var t="'";gc.databind.internal.expressionParser.StringLiteral.prototype.toString=function(){return literalValue},gc.databind.internal.expressionParser.StringLiteral.parseLiteral=function(e){if(0===e.indexOf(t)){var n,a=0;do{a=e.indexOf(t,a+1),n=!1;for(var r=a;r>0&&"\\"==e.charAt(r-1);r--)n=!n}while(n);if(a<=0)gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingClosingBraceErrMsg(e,"single quote");else{if(a==e.length-1)return e=e.substring(1,e.length-1),new gc.databind.internal.expressionParser.StringLiteral(e);gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingOperatorErrMsg(e.substring(a+1))}}return null}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.NumberLiteral=function(t){this.literalValue=t},gc.databind.internal.expressionParser.NumberLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding,gc.databind.internal.expressionParser.NumberLiteral.prototype.toString=function(){return this.literalValue.toString()},gc.databind.internal.expressionParser.NumberLiteral.parse=function(t){var e=Number(t);return isNaN(e)?null:e},gc.databind.internal.expressionParser.NumberLiteral.parseLiteral=function(t){var e=gc.databind.internal.expressionParser.NumberLiteral.parse(t);return null===e?null:new gc.databind.internal.expressionParser.NumberLiteral(e)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="[]";gc.databind.internal.expressionParser.ArrayOperator=function(){},gc.databind.internal.expressionParser.ArrayOperator.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator(t),gc.databind.internal.expressionParser.ArrayOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.ArrayOperator},e.prototype.parseLiteral=function(t,e,n){return gc.databind.internal.expressionParser.ArrayLiteral.parseLiteral(t)},new e}()}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="()";gc.databind.internal.expressionParser.FunctionOperator=function(){},gc.databind.internal.expressionParser.FunctionOperator.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator(t),gc.databind.internal.expressionParser.FunctionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.FunctionOperator},e.prototype.parseLiteral=function(t,e,n){return e.parseExpression(t,0)},new e}()}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.ConditionalOperator=function(){},gc.databind.internal.expressionParser.ConditionalOperator.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.ConditionalOperator.factory=function(){var t="?",e=":",n=function(){};return n.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,n.prototype.parse=function(n,a,r){var i=a.findFirstIndexOf(n,t,0);if(0===i)throw"I found a '?' operator but nothing in front of it.  To be honest, I was expecting to find something before the '?' in the following text: "+n;if(i>0){var o=n.substring(0,i),s=n.substring(i+1);if(i=a.findMatchingBrace(s,t,e),i<0)throw"I found a '?' operator, but I couldn't find the matching ':' operator.  To be honest I was expecting one in the following text: "+s;if(0===i)throw"I found a ':' imediately following a '?' operator.  To be honest, I was expecting to find something between them.";if(i>=s.length-1)throw"I found a '?' operator a with matching ':', but nothing after the ':' operator.  To be honest, I was expecting to find something after the ':' in the following text: "+s;var d=s.substring(0,i),c=s.substring(i+1),p=new gc.databind.internal.expressionParser.ConditionalOperator;return p.condition=a.parseExpression(o,r),p.trueOperand=a.parseExpression(d,r),p.falseOperand=a.parseExpression(c,r),p}return null},n.prototype.getOperator=function(){return t},new n}(),gc.databind.internal.expressionParser.ConditionalOperator.prototype.addChangedListener=function(t){this.condition.addChangedListener(t),this.trueOperand.addChangedListener(t),this.falseOperand.addChangedListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeChangedListener=function(t){this.condition.removeChangedListener(t),this.trueOperand.removeChangedListener(t),this.falseOperand.removeChangedListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.addStatusListener=function(t){this.condition.addStatusListener(t),this.trueOperand.addStatusListener(t),this.falseOperand.addStatusListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeStatusListener=function(t){this.condition.removeStatusListener(t),this.trueOperand.removeStatusListener(t),this.falseOperand.removeStatusListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.dispose=function(){void 0!==this.condition.dispose&&this.condition.dispose(),void 0!==this.trueOperand.dispose&&this.trueOperand.dispose(),void 0!==this.falseOperand.dispose&&this.falseOperand.dispose()};var getConditionalBranch=function(t){var e=t.condition.getValue();return e?t.trueOperand:t.falseOperand};gc.databind.internal.expressionParser.ConditionalOperator.prototype.getValue=function(){return getConditionalBranch(this).getValue()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.setValue=function(t,e){
getConditionalBranch(this).setValue(t,e)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.getType=function(){return getConditionalBranch(this).getType()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.getStatus=function(){return getConditionalBranch(this).getStatus()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.setStatus=function(t){getConditionalBranch(this).setStatus(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.toString=function(){return" ? "+this.trueOperand.toString()+" : "+this.falseOperand.toString()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.isStale=function(){return this.condition.isStale()||getConditionalBranch(this).isStale()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.addStaleListener=function(t){this.condition.addStaleListener(t),this.trueOperand.addStaleListener(t),this.falseOperand.addStaleListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeStaleListener=function(t){this.condition.removeStaleListener(t),this.trueOperand.removeStaleListener(t),this.falseOperand.removeStaleListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.isReadOnly=function(){return getConditionalBranch(this).isReadOnly()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.ConditionalOperator.prototype.getName=function(){return this.fName},gc.databind.internal.expressionParser.ConditionalOperator.prototype.addStreamingListener=function(t){var e=getConditionalBranch(this);e.addStreamingListener(t),this.condition.addChangedListener({onValueChanged:function(){e.removeStreamingListener(t),e=getConditionalBranch(this),e.addStreamingListener(t)}})},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeStreamingdListener=function(t){this.trueOperand.removeChangedListener(t),this.falseOperand.removeChangedListener(t)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){gc.databind.internal.expressionParser.DivisionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)};var t="/";gc.databind.internal.expressionParser.DivisionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.DivisionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.DivisionOperator},new e}(),gc.databind.internal.expressionParser.DivisionOperator.prototype.evalNumber=function(t,e){return t/e},gc.databind.internal.expressionParser.DivisionOperator.prototype.doSetValue=function(t,e,n){return n?t/e:t*e},gc.databind.internal.expressionParser.DivisionOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.DotOperator=function(t,e){this.lookupBinding=t,this.indexBindings=[new gc.databind.internal.expressionParser.StringLiteral(e)]},gc.databind.internal.expressionParser.DotOperator.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator,gc.databind.internal.expressionParser.DotOperator.prototype.toString=function(){return this.lookupBinding.toString()+"."+this.indexBinding[0]},gc.databind.internal.expressionParser.DotOperator.factory=function(){var t=function(){this._qualifiers=new gc.databind.internal.QualifierFactoryMap};t.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator.Factory(".");var e=function(t){var e=this;return t.length>1?new gc.databind.internal.expressionParser.DotOperator(e,t.substring(1)):e};return t.prototype.parse=function(t,n,a){var r=n.findLastIndexOf(t,"].",!0);if(r<0&&(r=n.findLastIndexOf(t,").",!0)),r>0&&r<t.length-1){r++;var i=t.substring(0,r),o=n.parseLookupExpression(i,a);return o.setName(i),this.testLookupBinding(o),i=t.substring(r+this.operator.length),n.testIdentifier(i,"in dot operator field name"),this._qualifiers.parseQualifiers("."+i,e,o)}return null},t.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.DotOperator},new t}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="==";gc.databind.internal.expressionParser.EqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.EqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.EqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.EqualsOperator},new e}(),gc.databind.internal.expressionParser.EqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.EqualsOperator.prototype.evalBoolean=gc.databind.internal.expressionParser.EqualsOperator.prototype.evalString=function(t,e){return t==e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t=">";gc.databind.internal.expressionParser.GreaterThanOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.GreaterThanOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.GreaterThanOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.GreaterThanOperator},new e}(),gc.databind.internal.expressionParser.GreaterThanOperator.prototype.evalNumber=gc.databind.internal.expressionParser.GreaterThanOperator.prototype.evalString=function(t,e){return t>e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t=">=";gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator},new e}(),gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.prototype.evalString=function(t,e){return t>=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="<";gc.databind.internal.expressionParser.LessThanOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.LessThanOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.LessThanOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LessThanOperator},new e}(),gc.databind.internal.expressionParser.LessThanOperator.prototype.evalNumber=gc.databind.internal.expressionParser.LessThanOperator.prototype.evalString=function(t,e){return t<e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="<=";gc.databind.internal.expressionParser.LessThanOrEqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.LessThanOrEqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.LessThanOrEqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LessThanOrEqualsOperator},new e}(),gc.databind.internal.expressionParser.LessThanOrEqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.LessThanOrEqualsOperator.prototype.evalString=function(t,e){return t<=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="!=";gc.databind.internal.expressionParser.NotEqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.NotEqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.NotEqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.NotEqualsOperator},new e}(),gc.databind.internal.expressionParser.NotEqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.NotEqualsOperator.prototype.evalBoolean=gc.databind.internal.expressionParser.NotEqualsOperator.prototype.evalString=function(t,e){return t!=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="!";gc.databind.internal.expressionParser.LogicalNotOperator=function(){},gc.databind.internal.expressionParser.LogicalNotOperator.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator(t),gc.databind.internal.expressionParser.LogicalNotOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LogicalNotOperator},new e}(),gc.databind.internal.expressionParser.LogicalNotOperator.prototype.getType=function(){return"boolean"},gc.databind.internal.expressionParser.LogicalNotOperator.prototype.evalBoolean=function(t,e){return!t},gc.databind.internal.expressionParser.LogicalNotOperator.prototype.evalNumber=function(t,e){return e?t?0:1:!t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="&&";gc.databind.internal.expressionParser.LogicalAndOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.LogicalAndOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.LogicalAndOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LogicalAndOperator},new e}(),gc.databind.internal.expressionParser.LogicalAndOperator.prototype.evalBoolean=function(t,e){return t&&e},gc.databind.internal.expressionParser.LogicalAndOperator.prototype.evalNumber=function(t,e){return 0!=t&&0!=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="||";gc.databind.internal.expressionParser.LogicalOrOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.LogicalOrOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.LogicalOrOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LogicalOrOperator},new e}(),gc.databind.internal.expressionParser.LogicalOrOperator.prototype.evalBoolean=function(t,e){return t||e},gc.databind.internal.expressionParser.LogicalOrOperator.prototype.evalNumber=function(t,e){return 0!=t||0!=e},gc.databind.internal.expressionParser.LogicalOrOperator.prototype.getType=function(){return"boolean"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="*";gc.databind.internal.expressionParser.MultiplicationOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.MultiplicationOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.MultiplicationOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.MultiplicationOperator},new e}(),gc.databind.internal.expressionParser.MultiplicationOperator.prototype.evalNumber=function(t,e){return t*e},gc.databind.internal.expressionParser.MultiplicationOperator.prototype.doSetValue=function(t,e,n){return t/e},gc.databind.internal.expressionParser.MultiplicationOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="-";gc.databind.internal.expressionParser.NegationOperator=function(){},gc.databind.internal.expressionParser.NegationOperator.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator(t),gc.databind.internal.expressionParser.NegationOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.NegationOperator},new e}(),gc.databind.internal.expressionParser.NegationOperator.prototype.evalNumber=function(t){return-t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.OperatorList=function(t){this.samePrecedenceOperators=[];for(var e=0;e<t.length;e++)this.samePrecedenceOperators.push(t[e])},gc.databind.internal.expressionParser.OperatorList.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.OperatorList.prototype.parse=function(t,e,n){for(var a=-1,r=null,i=0;i<this.samePrecedenceOperators.length;i++){var o=this.samePrecedenceOperators[i],s=e.findLastIndexOf(t,o.getOperator());s>a&&(a=s,r=o)}return null!==r?r.parse(t,e,n):null},gc.databind.internal.expressionParser.OperatorList.prototype.getOperator=function(){return this.samePrecedenceOperators.get(0).getOperator()};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="%";gc.databind.internal.expressionParser.RemainderOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.RemainderOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.RemainderOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.RemainderOperator},new e}(),gc.databind.internal.expressionParser.RemainderOperator.prototype.evalNumber=function(t,e){return t%e},gc.databind.internal.expressionParser.DivisionOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="-";gc.databind.internal.expressionParser.SubtractionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.SubtractionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.SubtractionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.SubtractionOperator},new e}(),gc.databind.internal.expressionParser.SubtractionOperator.prototype.evalNumber=function(t,e){return t-e},gc.databind.internal.expressionParser.SubtractionOperator.prototype.doSetValue=function(t,e,n){return n?e-t:t+e},gc.databind.internal.expressionParser.SubtractionOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.ExpressionParser=function(t){this.bindProvider=t,this.addBraces("[","]"),this.addBraces("'","'"),this.addOperatorFactory(gc.databind.internal.expressionParser.ConditionalOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.LogicalOrOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.LogicalAndOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.EqualsOperator.factory,gc.databind.internal.expressionParser.NotEqualsOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.factory,gc.databind.internal.expressionParser.LessThanOrEqualsOperator.factory,gc.databind.internal.expressionParser.GreaterThanOperator.factory,gc.databind.internal.expressionParser.LessThanOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.AdditionOperator.factory,gc.databind.internal.expressionParser.SubtractionOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.MultiplicationOperator.factory,gc.databind.internal.expressionParser.DivisionOperator.factory,gc.databind.internal.expressionParser.RemainderOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.NegationOperator.factory,gc.databind.internal.expressionParser.ArithmeticNotOperator.factory,gc.databind.internal.expressionParser.LogicalNotOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.ArrayOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.FunctionOperator.factory)},gc.databind.internal.expressionParser.ExpressionParser.prototype=new gc.databind.internal.expressionParser.AbstractUriBindingFactory,gc.databind.internal.expressionParser.ExpressionParser.prototype.bindValue=function(t,e){if(0===t.length)throw"Empty Param";var n,a=t.indexOf(".");if(a>0){var r=t.substring(0,a);if("widget"===r){var i=t.indexOf(".",a+1);if(i>0){var o=t.substring(a+1,i);this.bindProvider.getModel(o)&&(r=o,a=i)}}n=this.bindProvider.getModel(r),null!==n&&void 0!==n&&(t=t.substring(a+1))}if(n=n||this.bindProvider.getModel())return e?n.createNewBind(t):n.parseModelBinding(t);throw"There is no default model for bindings"},gc.databind.internal.expressionParser.ExpressionParser.prototype.parseExpression=function(t,e){return this.bindProvider.getBinding(t,e)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){gc.databind.internal.expressionParser.QFunctionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.QFunctionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator("Q()"),gc.databind.internal.expressionParser.QFunctionOperator.factory=function(){var t=function(){};return t.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(","),t.prototype.parse=function(t,e,n){var a=e.findFirstIndexOf(t,",");if(a<=0||a>=t.length-1||a!==e.findLastIndexOf(t,","))throw"Invalid number of paramters for Q() function.  The Q() function requires two and only two parameters separated by a single comma.";var r=t.substring(0,a),i=e.parseExpression(r,n);r=t.substring(a+this.operator.length);var o=e.parseExpression(r,n),s=this.createOperator();return s.leftOperand=i,s.rightOperand=o,s},t.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.QFunctionOperator},new t}(),gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getType=function(){return"number"};var t=function(t,e){return isNaN(t)?t:isNaN(e)?e:t/Math.pow(2,e)},e=function(t,e){return isNaN(e)?t=e:isNaN(t)||(t=Math.round(t*Math.pow(2,e))),t};gc.databind.internal.expressionParser.QFunctionOperator.prototype.getValue=function(){var e=+this.leftOperand.getValue(),n=+this.rightOperand.getValue();return t(e,n)},gc.databind.internal.expressionParser.QFunctionOperator.prototype.setValue=function(t,n){t=+t;var a=+this.rightOperand.getValue();this.leftOperand.setValue(e(t,a),n)},gc.databind.internal.expressionParser.QFunctionOperator.prototype.toString=function(){return"Q("+this.leftOperand.toString()+", "+this.rightOperand.toString()+")"},gc.databind.DataConverter.register({convert:t},"q"),gc.databind.DataConverter.register({convert:e},"number","q");var n=function(t,e){var n=new gc.databind.internal.expressionParser.QFunctionOperator;return n.leftOperand=t,n.rightOperand=new gc.databind.internal.expressionParser.NumberLiteral((+e)),n};gc.databind.internal.QualifierFactoryMap.add("q",n)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(t,e,n){this.srcBinding=t,this.destBinding=e,this.computeValue=n};t.prototype.enable=function(){this.srcBinding.addStatusListener(this),this.srcBinding.addStreamingListener(this)},t.prototype.disable=function(){this.srcBinding.removeStatusListener(this),this.srcBinding.removeStreamingListener(this)},t.prototype.onStatusChanged=function(t){this.destBinding.setStatus(t)},t.prototype.onDataReceived=function(t){t=this.srcBinding.getValue();var e=this.srcBinding.getType();this.computeValue&&(t=this.computeValue(t),e=void 0),t=gc.databind.DataConverter.convert(t,e,this.destBinding.getType()),this.destBinding.onStreamingDataReceived(t)},t.prototype.onValueChanged=function(){},t.prototype.getStatus=function(){return this.srcBinding.getStatus()},t.prototype.dispose=function(t){t[this.srcBinding.getName()]=void 0,t[this.destBinding.getName()]=void 0};var e=function(t,e,n){this.srcBinding=t,this.destBinding=e,this.computeValue=n};e.prototype=new gc.databind.BindListenerAdapter,e.prototype.onValueChanged=function(t,e,n){if(this.srcBinding.isStale())this.srcBinding.addStaleListener(this);else{var a=this.srcBinding.getValue(),r=this.destBinding.getValue(),i=this.srcBinding.getType();this.computeValue&&(a=this.computeValue(a),i=void 0);var o=this.destBinding.getType();a!=gc.databind.DataConverter.convert(r,o,i)&&(a=gc.databind.DataConverter.convert(a,i,o),this.destBinding.setValue(a,n))}},e.prototype.onStatusChanged=function(t){this.destBinding.setStatus(t)},e.prototype.onStaleChanged=function(){this.srcBinding.removeStaleListener(this),this.onValueChanged()},e.prototype.enable=function(){this.srcBinding.addStatusListener(this),this.srcBinding.addChangedListener(this)},e.prototype.disable=function(){this.srcBinding.removeStatusListener(this),this.srcBinding.removeChangedListener(this)},e.prototype.getStatus=function(){return this.srcBinding.getStatus()},e.prototype.dispose=function(t){t[this.srcBinding.getName()]=void 0,t[this.destBinding.getName()]=void 0};var n=new gc.databind.BindListenerAdapter;n.enable=function(){},n.disable=function(){},n.dispose=function(){};var a=function(n,a,r){return n.addStreamingListener&&a.onStreamingDataReceived?new t(n,a,r):new e(n,a,r)},r=function(t,e,r,i){r&&!i?(this.targetListener=n,this.modelListener=a(e,t,r)):i&&!r?(this.targetListener=n,this.modelListener=a(t,e,i)):(this.targetListener=a(t,e,i),this.modelListener=a(e,t,r))};r.prototype=new gc.databind.IDataBinder,r.prototype.enable=function(t){return void 0===t?this._enabled:this._enabled!=t?(this._enabled=t,t?(this.targetListener.enable(),this.modelListener.enable(),this.modelListener.onValueChanged(),this.modelListener.onStatusChanged(this.modelListener.getStatus())):(this.targetListener.disable(),this.modelListener.disable()),this):void 0},r.prototype.dispose=function(t){this.enable(!1),t&&"object"==typeof t&&(this.modelListener.dispose(t),this.targetListener.dispose(t))},gc.databind.internal.DataBinder=function(){},gc.databind.internal.DataBinder.bind=function(t,e,n,a){if(null!==t&&null!==e&&(t instanceof gc.databind.IBindValue||t instanceof gc.databind.AbstractBindValue)&&(e instanceof gc.databind.IBindValue||e instanceof gc.databind.AbstractBindValue)){var i=new r(t,e,n,a);return i.enable(!0),i}return ti_logger.error(gc.databind.name,"Cannot bind target and model bindings together because one of them is not an IBindValue."),null}}();var gc=gc||{};gc.widget=gc.widget||{},gc.widget.internal=gc.widget.internal||{},function(){gc.widget.internal.StatusIndicator=function(t,e){this.messages={error:[],warning:[],information:[]},this.targetWidget=t,this.locationHint=e},gc.widget.internal.StatusIndicator.prototype=new gc.widget.IStatusIndicator;var t=function(t,e){var n=new MutationObserver(function(n){n.forEach(function(n){"none"===t.style.display||"hidden"===t.style.visibility?e.style.visibility="hidden":e.style.visibility="visible"})});return n.observe(t,{attributes:!0,attributeFilter:["style"]}),n},e=function(t,e,n,a){var r=Polymer.dom?Polymer.dom(t).parentNode:t.parentElement,d=getComputedStyle(t),c=d.position,p=null;if(r&&c){var g=document.createElement("div");if("absolute"===c){var l={left:t.offsetLeft,right:t.clientWidth+t.offsetLeft,top:t.offsetTop,bottom:t.clientHeight+t.offsetTop};p=i(l,a),p.divStyle="position: absolute; "+p.divStyle}else"static"===c||"relative"===c?p={divStyle:"position: relative; ",imgStyle:"left: 0px; top: 0px;"}:(p=i(t.getBoundingClientRect(),a),p.divStyle="position: fixed; "+p.divStyle);g.setAttribute("style",p.divStyle+"overflow: visible; display: inline-block");var u=document.createElement("img"),b=s(n);u.src=(gc.components&&gc.components.path?gc.components.path:"")+b;var h=u.src.indexOf("/components/element/"+b)>0;if(h)u.src="../../"+b;else if(!o){var f=u.src.split("/components/");f.length>2&&(u.src=f[0]+"/components/"+f[f.length-1]),u.onerror=function(){o=!0,this.src.indexOf("/designer/"+b)<0&&(this.src="../designer/"+b)}}return u.setAttribute("style","position: absolute; width: 0.8em; height: 0.8em; z-index:900;"+p.imgStyle),u.setAttribute("title",e),g.appendChild(u),h||r.insertBefore(g,t),g}return null};gc.widget.internal.StatusIndicator.prototype.addMessage=function(a,i){i=i||gc.widget.StatusIndicatorType.ERROR,a&&a.length>0&&(this.removeMessage(a,!0),this.messages[i].push(a),this.statusWidget?n(r(this.messages),this.statusWidget):(this.statusWidget=e(this.targetWidget,a,i,this.locationHint),this.statusWidget&&(this.visibilityObserver=t(this.targetWidget,this.statusWidget))))};var n=function(t,e){if(e&&t){var n=e.children[0];if(n&&n.title!=t.message){n.title=t.message;var a=s(t.type);n.src.indexOf(a)<0&&(n.src=a)}}},a=[gc.widget.StatusIndicatorType.ERROR,gc.widget.StatusIndicatorType.WARNING,gc.widget.StatusIndicatorType.INFO],r=function(t){for(var e=0;e<a.length;e++){var n=a[e],r=t[n];if(r&&r.length>0)return{message:r[r.length-1],type:n}}return null};gc.widget.internal.StatusIndicator.prototype.removeMessage=function(t,e){if(t&&0!==t.length)for(var i=0;i<a.length;i++)for(var o=a[i],s=this.messages[o],d=s.length;d-- >0;)if(s[d]===t&&(s.splice(d,1),!e)){var c=r(this.messages);if(c)n(c,this.statusWidget);else{var p=this.statusWidget&&this.statusWidget.parentElement;p&&p.removeChild(this.statusWidget),this.visibilityObserver&&this.visibilityObserver.disconnect(),this.visibilityObserver=void 0,this.statusWidget=void 0}}};var i=function(t,e){e=e||"middle-left";var n="",a="",r=!1,i=e.split("-");2!=i.length&&(i=["left","middle"]);for(var o=0;o<2;o++)switch(i[o].trim().toLowerCase()){case"left":n+="left: "+t.left+"px; ",a+=r?"left: 0px; ":"right: 0px; ",r=!0;break;case"right":n+="left: "+t.right+"px; ",a+=r?"right :0px;":"left :0px; ",r=!0;break;case"center":n+="left: "+(t.left+t.right)/2+"px; ",a+="left: -0.4em; ";break;case"top":n+="top: "+t.top+"px; ",a+=r?"top: 0px; ":"bottom: 0px; ",r=!0;break;case"bottom":n+="top: "+t.bottom+"px; ",a+=r?"bottom: 0px;":"top: 0px; ",r=!0;break;case"middle":n+="top: "+(t.top+t.bottom)/2+"px; ",a+="top: -0.4em; ";break;default:ti_logger.error(gc.databind.name,"Invalid position found in status indicator location hint = "+e)}return{divStyle:n,imgStyle:a}},o=!1,s=function(t){var e="components/ti-core-databind/images/"+t+".png";return o&&(e="../designer/"+e),encodeURI(e)},d={};gc.widget.internal.StatusIndicator.factory={get:function(t){var e=d[t.id];if(void 0===e){if(t){var n=t._statusIndicatorLocationHint;n&&"function"==typeof n&&(n=n.call(t)),e=new gc.widget.internal.StatusIndicator(t,n),d[t.id]=e}}else e.targetWidget=t;return e}}}();var gc=gc||{};gc.databind=gc.databind||{},window.parent.gc?gc.designer=gc.designer||window.parent.gc.designer:window.global&&global.document&&global.document.gc&&(gc.designer=gc.designer||global.document.gc.designer),function(){gc.databind.BindingRegistry=function(){},gc.databind.BindingRegistry.prototype=new gc.databind.IBindProvider;var t,e={},n={},a=0,r=null,i=(new gc.databind.internal.DataBinder,null);gc.databind.BindingRegistry.getSingleton=function(){return null===i&&(i=new gc.databind.BindingRegistry,r=new gc.databind.internal.expressionParser.ExpressionParser(i)),i};var o=/^\s+|\s*([^A-Za-z0-9$_ ']+|'[^']*')\s*|\s+$/g;gc.databind.BindingRegistry.prototype.getBinding=function(t,e){void 0===e&&(t=t.replace(o,"$1"));var i=n[t];return void 0===i&&(i=r.parse(t,e)||null,null!==i&&i.setName(t),n[t]=i,a++),i},gc.databind.BindingRegistry.prototype.registerModel=function(n,a,r){var i=n.getName();t=t||i,a&&(t=i),e[i]=n,r&&(e[r]=n)},gc.databind.BindingRegistry.prototype.getModel=function(n){
return n=n||t,e[n]},gc.databind.BindingRegistry.prototype.defaultModel=function(e){return void 0===e?t:(t=e,this)},gc.databind.BindingRegistry.prototype.dispose=function(){for(var t in n)if(n.hasOwnProperty(t)){var a=n[t];void 0!==a.dispose&&a.dispose()}n={};for(t in e)if(e.hasOwnProperty(t)){var r=e[t];void 0!==r.dispose&&r.dispose()}e={}},gc.databind.BindingRegistry.prototype.unbind=function(t){t.enable(!1),t.dispose&&t.dispose(n)};var s=function(t,e){if("object"==typeof e){var n={};for(var a in e)if(e.hasOwnProperty(a)){var r;try{r=gc.databind.registry.getBinding(e[a])}catch(t){throw"Can't parse binding \""+a+'".  \n'+t}if(null===r)throw'Binding "'+a+'" could not be found.';n[a]=r}return new gc.databind.CollectionBindValue(n)}try{return t.getBinding(e)}catch(t){throw"Can't parse binding \""+e+'".  \n'+t}};gc.databind.BindingRegistry.prototype.bind=function(t,e,n,a){var r,i;try{return r=s(this,t),i=s(this,e),gc.databind.internal.DataBinder.bind(r,i,n,a)}catch(t){var o=gc.databind.AbstractStatus.createErrorStatus(t);if(r)r.setStatus(o);else try{i||(i="object"==typeof e?s(e):this.getBinding(e)),i&&i.setStatus(o)}catch(t){}return ti_logger.error(gc.databind.name,t),new gc.databind.IDataBinder}},gc.databind.BindingRegistry.prototype.getBindingCount=function(){return a};var d=function(){try{var t=window.location.pathname,e=t.lastIndexOf("/");if(e!==t.length-1)return t=t.substring(e+1),t.replace(".html",".json")}catch(t){}return"index.json"},c=function(){return"index_prop.json"},p=function(){this._binders=[],this._enabled=!0};p.prototype=new gc.databind.IDataBinder,p.prototype.enable=function(t){if(void 0===t)return this._enabled;if(this._enabled!=t){this._enabled=t;for(var e=this._binders.length;e-- >0;)this._binders[e].enable(t)}return this},p.prototype.add=function(t){t&&(this._binders.push(t),t.enable(this._enabled))};var g={};gc.databind.BindingRegistry.prototype.unloadBindingsFromFile=function(t){t=t||d();var e=g[t];e&&e.enable(!1)},gc.databind.BindingRegistry.prototype.loadBindingsFromFile=function(t){t=t||d();var e=g[t];if(e)return Q.Promise(function(t){setTimeout(function(){e.enable(!0)},100),t(e)});var n=gc.fileCache.readJsonFile(t).then(function(e){var n=new p;if(g[t]=n,e){var a=gc.databind.registry;for(var r in e.widgetBindings)if(e.widgetBindings.hasOwnProperty(r)){var i=e.widgetBindings[r];if(i.options&&i.options.dataType){var o=a.getBinding("widget."+i.widgetId+"."+i.propertyName),s=i.options.dataType.toLowerCase();"long"!==s&&"short"!==s&&"int"!==s&&"double"!==s&&"float"!==s||(s="number"),o.setDefaultType(s)}if(!i.widgetId&&i.serverBindName&&i.options&&"undefined"!=typeof i.options.defaultValue){var d=a.getBinding(i.serverBindName);d.setValue(i.options.defaultValue)}else n.add(a.bind("widget."+i.widgetId+"."+i.propertyName,i.serverBindName))}}return n}).fail(function(t){return ti_logger.error(gc.databind.name,t),new gc.databind.IDataBinder});return n},gc.databind.BindingRegistry.prototype.loadPropertiesFromFile=function(t,e){return e=e||c(),gc.fileCache.readJsonFile(e).then(function(e){return e?e[t]:void 0}).fail(function(t){ti_logger.error(gc.databind.name,t)})};var l=/\s+id="([^"]+)"/;gc.databind.BindingRegistry.prototype.parseBindingsFromGist=function(t,e,n){var a=new RegExp('\\s+(\\w+)\\s*=\\s*"\\s*{{\\s*\\$\\.'+t+"\\.([a-zA-Z0-9_\\.$]+)","g"),r=[];this.defaultModel()==n?n="":n+=".";for(var i=0;i<e.length;i++){var o=e[i].indexOf("$."+t+".");if(o>=0){var s=e[i].match(l);if(s){s=s[1];for(var d=a.exec(e[i]);d;){var c=d[2],p=d[1];r.push({propertyName:p,serverBindName:n+c,widgetId:s}),d=a.exec(e[i])}}}}return r};var u=function(t,e){return gc.fileCache.writeJsonFile(t,e)};gc.databind.BindingRegistry.prototype.savePropertiesToFile=function(t,e){return t=t||c(),u(t,e)},gc.databind.BindingRegistry.prototype.saveBindingsToFile=function(t,e){var n=e;return e instanceof Array&&(n={widgetBindings:e}),t=t||d(),u(t,n)},gc.databind.registry=gc.databind.BindingRegistry.getSingleton();var b=Q.defer();gc.databind.modelsReady=new gc.databind.ProgressCounter(function(){b.resolve()}),gc.databind.modelsReady.then=b.promise.then.bind(b.promise)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.internal.AbstractDataFormatter=function(t,e){gc.databind.internal.expressionParser.AbstractUnaryOperator.call(this,t),e&&(this.operand=e,e.addQualifier&&(this.addQualifier=e.addQualifier.bind(e)))},gc.databind.internal.AbstractDataFormatter.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator("<fmt>"),gc.databind.internal.AbstractDataFormatter.prototype.formattedType="string",gc.databind.internal.AbstractDataFormatter.prototype.getType=function(){return this.formattedType},gc.databind.internal.AbstractDataFormatter.prototype.getValue=function(){var t=this.operand.getValue();return null!==t&&void 0!==t&&(this.unFormattedType&&(t=gc.databind.DataConverter.convert(t,this.operand.getType(),this.unFormattedType)),t=this.formatValue(t,this._precision)),t},gc.databind.internal.AbstractDataFormatter.prototype.setValue=function(t,e){null!==t&&void 0!==t&&(this.unFormatValue(t)&&(t=this.unFormatValue(t,this._precision)),t=gc.databind.DataConverter.convert(t,void 0,this.operand.getType())),this.operand.setValue(t,e)},gc.databind.internal.AbstractDataFormatter.prototype.formatValue=gc.databind.DataConverter.getConverter(void 0,"string").convert,gc.databind.internal.AbstractDataFormatter.prototype.toString=function(){return this.operand.toString()+".$"+this.operator};var t=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e},e=function(t,e){if(e>0)if(t.length>e)t=t.substring(t.length-e);else for(var n=t.length;n<e;n++)t="0"+t;return t};t.prototype=new gc.databind.internal.AbstractDataFormatter("hex"),t.prototype.formatValue=function(t,n){return t=+t,t<0&&(t=4294967295+t+1),t=t.toString(16).toUpperCase(),"0x"+e(t,n)};var n=function(e,n){return new t(e,n)};gc.databind.DataConverter.register({convert:t.prototype.formatValue},"hex"),gc.databind.internal.QualifierFactoryMap.add("hex",n);var a=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e};a.prototype=new gc.databind.internal.AbstractDataFormatter("dec"),a.prototype.formatValue=function(t,e){return t=+t,isNaN(t)?""+t:t.toFixed(e)};var r=function(t,e){return new a(t,e)};gc.databind.DataConverter.register({convert:a.prototype.formatValue},"dec"),gc.databind.internal.QualifierFactoryMap.add("dec",r);var i=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e};i.prototype=new gc.databind.internal.AbstractDataFormatter("exp"),i.prototype.formatValue=function(t,e){return t=+t,isNaN(t)?""+t:t.toExponential(e)};var o=function(t,e){return new i(t,e)};gc.databind.DataConverter.register({convert:i.prototype.formatValue},"exp"),gc.databind.internal.QualifierFactoryMap.add("exp",o);var s=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e};s.prototype=new gc.databind.internal.AbstractDataFormatter("binary"),s.prototype.formatValue=function(t,n){return t=+t,isNaN(t)?""+t:(t<0&&(t=4294967295+t+1),e(t.toString(2),n))},s.prototype.unFormattedType="number",s.prototype.unFormatValue=function(t){return Number.parseInt(t,2)};var d=function(t,e){return new s(t,(+e))};gc.databind.DataConverter.register({convert:s.prototype.formatValue},"binary"),gc.databind.DataConverter.register({convert:s.prototype.unFormatValue},"number","binary"),gc.databind.internal.QualifierFactoryMap.add("binary",d),gc.databind.registry.addDataFormatter=function(t,e,n,a,r){var i=function(t){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t)};i.prototype=new gc.databind.internal.AbstractDataFormatter(t),e&&(i.prototype.formattedType=e),a&&(i.prototype.unFormattedType=a),n&&(i.prototype.formatValue=n),r&&(i.prototype.unFormatValue=r),t&&gc.databind.internal.QualifierFactoryMap.add(t,function(t){return new i(t)})}}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=0,e=1,n=2,a=3,r=4,i=99,o=new gc.databind.IProgressCounter,s="readonly",d="writeonly",c="nonvolatile",p="const";gc.databind.AbstractAsyncBindValue=function(e){gc.databind.AbstractLookupBindValue.call(this,e),this.setStale(!0),this._state=t,this._hasListeners=!1},gc.databind.AbstractAsyncBindValue.prototype=new gc.databind.AbstractLookupBindValue("string"),gc.databind.AbstractAsyncBindValue.prototype.DEBUG_BINDING=void 0,gc.databind.AbstractAsyncBindValue.prototype._readable=!0,gc.databind.AbstractAsyncBindValue.prototype._writable=!0,gc.databind.AbstractAsyncBindValue.prototype._volatile=!0,gc.databind.AbstractAsyncBindValue.prototype.addQualifier=function(t){var e=this._volatile;t!==p&&t!==s||(this._writable=!1),t===d&&(this._readable=!1),t!==c&&t!==p&&t!==d||(this._volatile=!1),this._readable||this._writable||ti_logger.error(gc.databind.name,'Invalid qualifier .$writeonly added to binding "'+this.getName()+'" that already has an exisiting .$readonly or .$const qualifier.'),e&&this.kickStartAReadOperation()},gc.databind.AbstractAsyncBindValue.prototype.readValue=function(t){},gc.databind.AbstractAsyncBindValue.prototype.writeValue=function(t){};var g=function(i,o){i._state===a?(i.changeState(n),i.writeValue(function(){i._delayedProgress&&(i._delayedProgress.done(),i._delayedProgress=null),g(i)})):i._state===n||i._state===r||i._state===e&&i.isConnected()===!1?i._readable?(i.changeState(e),i.readValue(function(t){i._delayedProgress&&(i._delayedProgress.done(),i._delayedProgress=null),g(i,t)})):i.changeState(t):i._state===e&&(i.changeState(t,o),i.updateValue(o),i.setStale(!1))};gc.databind.AbstractAsyncBindValue.prototype.changeState=function(t,e){this._state=t,this.DEBUG_BINDING&&this.getName().indexOf(this.DEBUG_BINDING)>=0&&console.log(this.getName()+" state = "+this._state+" value = "+(e||this.fCachedValue))},gc.databind.AbstractAsyncBindValue.prototype.onValueChanged=function(e,r,o){var s=this;s.setStale(!1),this._writable&&(s._state===t||s._state===i?(s.changeState(n),o.wait(),s.writeValue(function(){o.done(),g(s)})):(s.changeState(a),s._delayedProgress&&s._delayedProgress.done(),o.wait(),s._delayedProgress=o))},gc.databind.AbstractAsyncBindValue.prototype.onRefresh=function(n){var a=this;a._state===t&&a._hasListeners&&a._volatile&&(a.changeState(e),n=n||o,n.wait(),a.readValue(function(t){g(a,t),n.done()}))},gc.databind.AbstractAsyncBindValue.prototype.kickStartAReadOperation=function(){if(this._state===t&&!this._volatile&&this._readable){var n=this;n.changeState(e),n.readValue(function(t){g(n,t)})}},gc.databind.AbstractAsyncBindValue.prototype.onDisconnected=function(){this.reportCriticalError(null),this.kickStartAReadOperation()},gc.databind.AbstractAsyncBindValue.prototype.reportCriticalError=function(t){if(t)this._state=i;else if(this._state===i&&this._readable){var n=this;n.changeState(e),n.readValue(function(t){g(n,t)})}this.setStatus(t)},gc.databind.AbstractAsyncBindValue.prototype.isConnected=function(){return!0},gc.databind.AbstractAsyncBindValue.prototype.onFirstValueChangedListenerAdded=function(){this._hasListeners||(this._hasListeners=!0,this._state===t&&this.onRefresh())},gc.databind.AbstractAsyncBindValue.prototype.onFirstDataReceivedListenerAdded=gc.databind.AbstractAsyncBindValue.prototype.onFirstValueChangedListenerAdded,gc.databind.AbstractAsyncBindValue.prototype.onLastValueChangedListenerRemoved=function(){this._hasListeners=this.fEvents.hasAnyListeners("ValueChanged")||this.fEvents.hasAnyListeners("DataReceived")},gc.databind.AbstractAsyncBindValue.prototype.onLastDataReceivedListenerRemoved=gc.databind.AbstractAsyncBindValue.prototype.onLastValueChangedListenerRemoved,gc.databind.AbstractAsyncBindValue.prototype.isReadOnly=function(){return!this._writable},gc.databind.AbstractAsyncBindValue.prototype.onIndexChanged=function(){this._hasListeners&&this._volatile&&(this._state===e?this.changeState(r):this.onRefresh())};var l=function(t){return t.addQualifier(this),t},u=[s,d,c,p];gc.databind.AbstractAsyncBindValue.addQualifiersToModel=function(t){for(var e=u.length;e-- >0;)t.addQualifier(u[e],l.bind(u[e]))}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IRefreshListener=function(){},gc.databind.IRefreshListener.prototype.onRefresh=function(t){},gc.databind.RefreshIntervalBindValue=function(t){var e=this;gc.databind.VariableBindValue.call(e,t||e.fCachedValue),e._hasListeners=!1,this._updateListener=function(){e.onRefresh()},this._resetTimer=function(){if(void 0===e._timer&&e._hasListeners){var t=e.getValue();t>=0&&(e._timer=setTimeout(e._updateListener,t))}}},gc.databind.RefreshIntervalBindValue.prototype=new gc.databind.VariableBindValue(100),gc.databind.RefreshIntervalBindValue.prototype.excludeFromStorageProviderData=!0,gc.databind.RefreshIntervalBindValue.prototype.onValueChanged=function(){this.excludeFromStorageProviderData=void 0,this._resetTimer()},gc.databind.RefreshIntervalBindValue.prototype.addRefreshListener=function(t){this.fEvents.addListener("Refresh",t)},gc.databind.RefreshIntervalBindValue.prototype.onFirstRefreshListenerAdded=function(){this._hasListeners=!0,this._resetTimer()},gc.databind.RefreshIntervalBindValue.prototype.onLastRefreshListenerRemoved=function(){this._hasListeners=!1},gc.databind.RefreshIntervalBindValue.prototype.dispose=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},gc.databind.RefreshIntervalBindValue.prototype.removeRefreshListener=function(t){this.fEvents.removeListener("Refresh",t)},gc.databind.RefreshIntervalBindValue.prototype.onRefresh=function(){this._timer=void 0;var t=new gc.databind.ProgressCounter(this._resetTimer);this.fEvents.fireEvent("Refresh",t),t.done()};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(t,e,n,a){this.newValue=n,this.oldValue=e,this.bind=t,this.time=a};t.prototype.undo=function(){this.bind.setValue(this.oldValue)},t.prototype.redo=function(){this.bind.setValue(this.newValue)},t.prototype.toString=function(){return"edit"};var e=function(t,e,n){gc.databind.AbstractBindValue.call(this),this.fCachedValue=n,this.widgetId=t.id,this._widget=t,this._widgetProperty=e};e.prototype=new gc.databind.AbstractBindValue,e.prototype.onValueChanged=function(t,e,n){if(this.value=e,void 0===this._observer){var a=this.getWidget();a&&(a[this._widgetProperty]=e)}},e.prototype.getWidget=function(){return this._widget=this._widget||(Polymer.dom?Polymer.dom(document):document).querySelector("#"+this.widgetId),this._widget},e.prototype.onStatusChanged=function(t,e){if(e&&gc.widget){var n=e.getMessage(),a=e.getType();a=a===gc.databind.StatusType.WARNING?gc.widget.StatusIndicatorType.WARNING:gc.widget.StatusIndicatorType.ERROR,gc.widget.StatusIndicator.Factory.get(this.getWidget()).addMessage(n,a)}if(t&&gc.widget){var r=t.getMessage(),n=e&&e.getMessage();r!=n&&gc.widget.StatusIndicator.Factory.get(this.getWidget()).removeMessage(r)}};var n=function(e,n){var a=e.getValue();if(a!=n)if(gc.history&&gc.history.push){var r=Date.now(),i=gc.history.getLastUndoOperation();if(i instanceof t&&r-i.time<250&&i.bind===e&&i.oldValue!==n)i.newValue=n,i.time=r,i.redo();else if(void 0!==a&&void 0!==n){var o=new t(e,a,n,r);gc.history.push(o),o.redo()}else e.setValue(n)}else e.setValue(n)};e.prototype.onFirstValueChangedListenerAdded=function(){var t=this.getWidget(),e=this._widgetProperty;if(t){var a=this;if(t.bind&&t.bindProperty){var r=new window.PathObserver(a,"value");r.setValue=function(t){n(a,t),window.PathObserver.prototype.setValue.call(this,t)},t.bind(e.toLowerCase(),r),this._observer=r}else this._changedPropertyEventName=Polymer.CaseMap.camelToDashCase(e)+"-changed",this._propertyChangedListener=function(t){n(a,t.detail.value)},t.addEventListener(this._changedPropertyEventName,this._propertyChangedListener);var i=this.getStatus();i&&gc.widget.StatusIndicator.Factory.get(t).addMessage(i.getMessage())}},e.prototype.onLastValueChangedListenerRemoved=function(){if(this._observer&&(this._observer.close(),this._observer=void 0),this._widget){this._propertyChangedListener&&(this._widget.removeEventListener(this._changedPropertyEventName,this._propertyChangedListener),this._propertyChangedListener=void 0,this._changedPropertyEventName=void 0);var t=this.getStatus();t&&gc.widget.StatusIndicator.Factory.get(this._widget).removeMessage(t.getMessage()),this._widget=void 0}};var a=function(){gc.databind.AbstractBindFactory.call(this),this.init()};a.prototype=new gc.databind.AbstractBindFactory("widget"),a.prototype.createNewBind=function(t){var n=null,a=t.lastIndexOf(".");if(a>0){var r=t.substring(0,a),i=t.substring(a+1),o=(Polymer.dom?Polymer.dom(document):document).querySelector("#"+r);if(o){n=new e(o,i,o[i]),o.propertyForAttribute&&(i=o.propertyForAttribute(i)||i);var s=o[i+"StreamingDataListener"];s&&"function"==typeof s&&(n.onStreamingDataReceived=s.bind(o))}else ti_logger.error(gc.databind.name,"Failed to find widget #"+r)}return n},gc.databind.registry.registerModel(new a,!1,"$")}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.PropertyModel=function(){gc.databind.AbstractBindFactory.call(this),this.init()},gc.databind.internal.PropertyModel.prototype=new gc.databind.AbstractBindFactory("prop"),gc.databind.internal.PropertyModel.prototype.createNewBind=function(t){return new gc.databind.VariableBindValue},gc.databind.registry.registerModel(new gc.databind.internal.PropertyModel);var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(){gc.databind.AbstractBindFactory.call(this),this.init()};t.prototype=new gc.databind.AbstractBindFactory("Math"),t.prototype.createNewBind=function(t){if(Math.hasOwnProperty(t)){var e=Math[t];return"function"==typeof e?new gc.databind.FunctionBindValue(e,Math):new gc.databind.ConstantBindValue(e)}},gc.databind.registry.registerModel(new t)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IPacketCodec=function(){},gc.databind.IPacketCodec.prototype.encode=function(t,e){},gc.databind.IPacketCodec.prototype.decode=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t={},e={},n=function(){};gc.databind.internal.PacketCodecFactory={create:function(a,r,i){a=t[a]||a;var o=a.toLowerCase().split("+");r=r||n,i=i||n;for(var s=o.length;s-- >0;){var d=o[s];d=e[d.toLowerCase()],d=d&&new d,d&&(r=d.encode.bind(d,r)),o[s]=d}for(s=0;s<o.length;s++)o[s]&&(i=o[s].decode.bind(o[s],i));var c=o[0];return c.encoder=r,c.decoder=i,c}},gc.databind.registerCustomCodec=function(n,a,r){n=n.toLowerCase(),e[n]=a,r&&(t[n]=n+"+"+r)}}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(){this.numPacketsReceived=0,this._isConnected=!1};t.prototype=new gc.databind.IPacketCodec,t.prototype.encode=function(t,e){t(JSON.stringify(e))},t.prototype.decode=function(t,e){try{var n="",a="string"==typeof e?e:String.fromCharCode.apply(null,e);try{for(n=a.substring(a.indexOf("{"),a.lastIndexOf("}")+1);n.indexOf(": ")>0;)n=n.substring(0,n.indexOf(": ")+1)+n.substring(n.indexOf(": ")+2).trim();this._isConnected=t(JSON.parse(n))}catch(t){this._isConnected=!1,this.numPacketsReceived>0&&console.log("JsonCodec: received non JSON data string:["+n+"]")}0===this.numPacketsReceived&&console.log("Put breakpoint here to debug problems with serial I/O bindings"),this.numPacketsReceived++}catch(t){console.log("JsonCodec: Exception converting buffer to text string"),this._isConnected=!1}return this._isConnected},gc.databind.registerCustomCodec("Json",t)}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(){};t.prototype=new gc.databind.IPacketCodec,t.prototype.encode=function(t,e){var n=e;e instanceof Array&&(n=String.fromCharCode.apply(null,e)),t(n)},t.prototype.decode=function(t,e){return t(e)},gc.databind.registerCustomCodec("raw",t)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.Base64PacketCodec=function(){},gc.databind.internal.Base64PacketCodec.prototype.encode=function(t,e){var n=e;if(e instanceof window.ArrayBuffer){var a=new window.Uint8Array(e);n=String.fromCharCode.apply(null,a)}return e instanceof Array&&(n=String.fromCharCode.apply(null,e)),t(window.btoa(n))},gc.databind.internal.Base64PacketCodec.prototype.decode=function(t,e){try{var n="string"==typeof e?e:String.fromCharCode.apply(null,e);n=window.atob(n);for(var a=new window.ArrayBuffer(n.length),r=new window.Uint8Array(a),i=n.length;i-- >0;)r[i]=n.charCodeAt(i);return t(a)}catch(t){return console.log("Base64PacketCodec: Exception converting base64 string to binary"),!1}},gc.databind.registerCustomCodec("Base64",gc.databind.internal.Base64PacketCodec);var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.internal.DelimitedTextPacketCodec=function(t,e){this._delimiter=this.delimiter||"\n",this._escapeChar=e,this._partialMessage="",this._isConnected=!1},gc.databind.internal.DelimitedTextPacketCodec.prototype=new gc.databind.IPacketCodec,gc.databind.internal.DelimitedTextPacketCodec.prototype.encode=function(t,e){this._escapeChar&&(e=e.split(this._escapeChar).join(this._escapeChar+this._escapeChar),e=e.split(this._delimiter).join(this._escapeChar+this._delimiter)),t(e+this._delimiter)},gc.databind.internal.DelimitedTextPacketCodec.prototype.decode=function(t,e){try{for(var n="string"==typeof e?e:String.fromCharCode.apply(null,e),a=(this._partialMessage+n).split(this._delimiter),r=a.length-1,i=0;i<r;i++){var o=a[i];this._escapeChar&&(o=o.split(this._escapeChar+this._delimiter).join(this._delimiter),o=o.split(this._escapeChar+this._escapeChar).join(this._escapeChar)),this._isConnected=t(a[i])}this._partialMessage=a[r]}catch(t){console.log("DelimitedTextPacketCodec: Exception converting buffer to text string")}return this._isConnected};var t=function(){};t.prototype=new gc.databind.internal.DelimitedTextPacketCodec("\n"),gc.databind.registerCustomCodec("CR",t)}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(t,e){gc.databind.VariableLookupBindValue.call(this),this.setStale(!0),this.parentBind=t,this.fieldName=e,t.addStreamingListener(this)};t.prototype=new gc.databind.VariableLookupBindValue,t.prototype.onDataReceived=function(t){try{var e=t[this.fieldName];void 0!==e&&(this.setData(e),this.setStale(!1))}catch(t){}},t.prototype.onValueChanged=function(t,e,n){this.sendValue(e,n)},t.prototype.sendValue=function(t,e){var n={};n[this.fieldName]=t,this.parentBind.sendValue(n,e)},gc.databind.AbstractStreamingDataModel=function(t){gc.databind.AbstractBindFactory.call(this,t)},gc.databind.AbstractStreamingDataModel.prototype=new gc.databind.AbstractBindFactory,gc.databind.AbstractStreamingDataModel.prototype.init=function(){gc.databind.AbstractBindFactory.prototype.init.call(this),this._streamingDataBind=new gc.databind.VariableLookupBindValue({}),this._streamingDataBind.setIndex();var t=this;this._streamingDataBind.sendValue=function(e){t.sendValue(e)}},gc.databind.AbstractStreamingDataModel.prototype.createNewBind=function(e){if("$rawData"===e)return this._streamingDataBind;var n,a=e.lastIndexOf(".");return a>0?(n=this.getBinding(e.substring(0,a)),e=e.substring(a+1)):n=this._streamingDataBind,new t(n,e)},gc.databind.AbstractStreamingDataModel.prototype.encoder=function(t){this.sendPacket(t)},gc.databind.AbstractStreamingDataModel.prototype.decoder=function(t){return this._streamingDataBind.setData(t),!0},gc.databind.AbstractStreamingDataModel.prototype.receiveData=gc.databind.AbstractStreamingDataModel.prototype.decode,gc.databind.AbstractStreamingDataModel.prototype.createCodec=function(t){var e=new gc.databind.internal.PacketCodecFactory.create(t,this.encoder.bind(this),this.decoder.bind(this));return e||console.error("Codec Regsitry: missing codec for data format: "+t),e}}();var gc=gc||{};gc.databind=gc.databind||{},function(){gc.databind.AbstractPollingDataModel=function(t){gc.databind.AbstractBindFactory.call(this,t)},gc.databind.AbstractPollingDataModel.prototype=new gc.databind.AbstractBindFactory,gc.databind.AbstractPollingDataModel.prototype.init=function(){gc.databind.AbstractBindFactory.prototype.init.call(this),this._modelBindings.$refresh_interval=new gc.databind.RefreshIntervalBindValue}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(){this._deferred=Q.defer(),this._scheduler=this._deferred.promise,this._events={}};t.prototype.start=function(){this._deferred.resolve()};var e=function(t){if(t){var n=this._events[t];if(n||(t+=".$after",n=this._events[t]),n)return window.setTimeout(function(){this._events[t]=void 0,console.log("starting event "+t),n.start()}.bind(this),1),n.then(e.bind(this,t+".$after")),n._scheduler}};t.prototype.when=function(t){return this.schedule(t),this._events[t]},t.prototype.after=function(t){return this.when(t+".$after")},t.prototype.then=function(t){return t instanceof String?this.schedule(t):this._scheduler=this._scheduler.finally(t),this},t.prototype.schedule=function(n,a){var r=this._events[n];return r||(this.then(e.bind(this,n)),r=new t,a&&r.then(a),this._events[n]=r),this};var n="disconnected",a="connected",r="connecting",i="disconnecting",o=function(){};o.prototype.doConnect=function(){},o.prototype.doDisconnect=function(){},o.prototype.shouldAutoConnect=function(){};var s=function(){this.status=n};s.prototype=new o,s.prototype.canConnect=function(){return this.status===n||this.status===i},s.prototype.shouldAutoConnect=function(){return this.status===r||this.status===a};var d=function(){this.onDisconnected=s.prototype.onDisconnected,this.onConnected=s.prototype.onConnected},c=Q(),p=Q(),g=Q();s.prototype.connect=function(t,e){if(this.canConnect()){this.status=r,this._progressData={};var n=this;return p.finally(function(){return n.doConnect(t,e).then(function(){n.status===r&&(n.status=a),n.setConnectedState?(n.onConnected=n.setConnectedState.bind(n,!0),n.onDisconnected=n.setConnectedState.bind(n,!1)):d.call(n)}).fail(function(t){throw d.call(n),n.disconnect(),t})})}return c},s.prototype.disconnect=function(){if(!this.canConnect()){gc.connectionManager.setConnectedState(this.id,!1),this.onDisconnected(),this.status=i;var t=this;return this.doDisconnect().finally(function(){t.status===i&&(t.status=n),d.call(t)})}return c};var l=function(){};s.prototype.onConnected=l,s.prototype.onDisconnected=l,s.prototype.doConnect=function(t,e){return Q.promise(function(n,a){this.onDisconnected=a,this.onConnected=n,this.startConnecting(t,e)}.bind(this))},s.prototype.doDisconnect=function(){return Q.promise(function(t,e){this.onDisconnected=t,this.onConnected=l,this.startDisconnecting()}.bind(this))},s.prototype.startConnecting=function(){this.onConnected()},s.prototype.startDisconnecting=function(){this.onDisconnected()};var u=0;s.prototype.startBackplane=function(t,e){var n=gc.services["ti-core-backplane"],a=window.parent.gc&&window.parent.gc.services&&window.parent.gc.services["ti-core-backplane"];if(a&&a!==n&&(a._inDesigner=!0,gc.services["ti-core-backplane"]=a),a&&this.backplane&&this.backplane!==a&&(this.backplane=a),gc.connectionManager.sequencer.schedule("backplaneReady").schedule("downloadProgram").schedule("targetReady"),0===u){var r=gc.services["ti-core-backplane"];gc.connectionManager.setProgressMessage(this.id,"Connecting to TI Cloud Agent..."),r.connect(t,e),this.waitForEvent(r,"connectionStatusChanged","isConnectedToCloudAgent",!0).then(gc.connectionManager.setProgressMessage.bind(gc.connectionManager,this.id,"Connected to TI Cloud Agent."))}u++},s.prototype.stopBackplane=function(){u--,0===u&&gc.services["ti-core-backplane"].disconnect()},s.prototype.waitForEvent=function(t,e,n,a,r,i){return Q.promise(function(o,s){if(console.log("waitForEvent started for "+e),!this.shouldAutoConnect())return console.log("waitForEvent cancelled for "+e),void s();var d,c=this.onDisconnected;this.onDisconnected=function(){t.removeEventListener(e,d),this.onDisconnected=c,console.log("waitForEvent aborted for "+e),s(),c()}.bind(this),d=function(){n&&t[n]!==a||(t.removeEventListener(e,d),console.log("waitForEvent resolved for "+e),this.onDisconnected=c,o()),r&&t[r]===i&&(t.removeEventListener(e,d),this.onDisconnected=c,console.log("waitForEvent failed for "+e),s())}.bind(this),t.addEventListener(e,d),n&&d()}.bind(this))};var b,h={},f=function(){var t=!0;for(var e in h)if(h.hasOwnProperty(e)){var n=h[e];n&&n._progressData&&void 0!==n._progressData.connectedState&&(t=t&&n._progressData.connectedState)}return t},y=function(){var t="";for(var e in h)if(h.hasOwnProperty(e)){var n=h[e];n&&n._progressData&&n._progressData.connectionMessage&&(t.length>0&&(t+=", "),t+=n._progressData.connectionMessage)}if(0===t.length){var a=gc.services["ti-core-backplane"];a&&(t=a.statusString1)}return t},v=function(){var t=gc&&gc.services&&gc.services["ti-widget-statusbar"];if(t){var e=gc.connectionManager.status,o=gc.connectionManager._progressData,s=gc.services["ti-core-backplane"];if(s||(b&&t.removeEventListener("iconclicked",b),e===n||e===i?(b=gc.connectionManager.connect.bind(gc.connectionManager),t.addEventListener("iconclicked",b),t.setIconName("ti-core-icons:nolink")):(b=gc.connectionManager.disconnect.bind(gc.connectionManager),t.addEventListener("iconclicked",b),t.setIconName("ti-core-icons:link"))),e===a){var d=f();t.statusString2=d?"Hardware Connected.":o.lastProgressMessage||"Hardware not Connected.",t.tooltip1=t.tooltip2=t.statusString1=y(),s?d?s.restoreIcon():d===!1&&s.setIcon("ti-core-icons:link-off"):t.setIconName(d?"ti-core-icons:link":"ti-core-icons:link-off")}else e===r?(t.statusString1=y(),o.lastErrorMessage?(t.statusString2=o.lastErrorMessage,t.tooltip2=o.lastErrorTooltip||"",o.lastErrorToast&&t.showToastMessage&&(t.showToastMessage(o.lastErrorMessage,o.lastErrorToast),o.lastErrorToast=void 0)):o.lastProgressMessage!==t.statusString1?(t.statusString2=o.lastProgressMessage||"",t.tooltip2=o.lastProgressTooltip||""):(t.statusString2="",t.tooltip2="")):(t.tooltip1=t.statusString1="",o&&o.lastErrorMessage?(t.statusString2=o.lastErrorMessage,t.tooltip2=o.lastErrorTooltip||""):(t.statusString2="Hardware not Connected.",t.tooltip2=""),s&&t.setIconName("ti-core-icons:nolink"))}},x=function(t,e,n){t._progressData=t._progressData||{},t._progressData.connectionMessage!==e&&(t._progressData.connectionMessage=e,t._progressData.connectionTooltip=n,e?t.addConsoleMessage("connecting to "+e,"debug"):v())},O=!1,P=function(t,e){if(t&&(t._progressData=t._progressData||{},t._progressData.connectedState!==e)){var n=e||void 0!==t._progressData.connectedState&&!O;t._progressData.connectedState=e,n?t.addConsoleProgress(e?"Hardware Connected.":"Hardware Not Connected."):v()}},m=function(){s.call(this)};m.prototype=new s;var B={};m.prototype.addEventListener=function(t,e){B[t]=B[t]||[],B[t].push(e)},m.prototype.removeEventListener=function(t,e){for(var n=B[t]||[],a=n.length;a-- >0;)n[a]===e&&n.splice(a,1)};var A=function(t,e){for(var n=B[t]||[],a=n.length;a-- >0;){var r=n[a];try{r.call(r,{detail:e},e)}catch(t){console.error(t)}}},w=function(){var t=a;for(var e in h)if(h.hasOwnProperty(e)){var o=h[e];o&&t!==i&&o.status!==a&&(t===n&&o.status===r||(t=o.status))}return this.status=t,A("status-changed"),t},L=function(t){var e=t.toLowerCase();m.prototype["do"+t]=function(t,n){A("status-changed");this._progressData||{};v();var r=[];for(var i in h)if(h.hasOwnProperty(i)){var o=h[i];o&&r.push(o[e](t,n))}return Q.allSettled(r).then(w.bind(this)).then(function(t){if(v(),t!==a)throw"One or more models failed to connect without error"})}};L("Connect"),L("Disconnect"),m.prototype.register=function(t,e){t&&(h[t]=e)},m.prototype.unregister=function(t){t&&this.register(t,null)};Q();m.prototype.then=function(t){return this.sequencer.then(t)};m.prototype.schedule=function(t,e){return this.sequencer.schedule(t,e);
},m.prototype.shouldAutoConnect=function(t){if(t){var e=h[t];return e&&e.shouldAutoConnect()}return u>0},m.prototype.autoConnect=function(){this.schedule("autoconnect",function(){return gc.fileCache.readJsonFile("project.json").then(function(t){var e;t.device_name&&(e={boardName:t.board_name,deviceName:t.device_name,fileName:t.target_out_filename,fileFolderName:t.target_out_foldername}),t.disableAutoConnect?gc.connectionManager.startBackplane(e):gc.connectionManager.connect(e)})})},m.prototype.saveSettingsToProjectDatabase=function(t){var e={},n=[];for(var a in h)if(h.hasOwnProperty(a)){var r=h[a];if(r){e[a]=e[a]||{};var i=r.saveSettingsToProjectDatabase(e[a],t);i&&n.push(i)}}var o=Q.defer();return n.push(o.promise),Q.all(n).then(function(){var n=t?gc.designer.workspace.folderName+"/"+t+"/":"";return gc.fileCache.writeJsonFile(n+"targetsymbols.json",e)}),o},m.prototype.sequencer=new t,m.prototype.sequencer.start(),m.prototype.getListOfAvailableSerialPorts=function(t,e,n){return p.isPending()||(p=Q.promise(function(t,e){window.setTimeout(function(){var n=window.parent.gc&&window.parent.gc.services&&window.parent.gc.services["ti-core-backplane"];if(n){this.startBackplane(void 0,function(){return e("cloud agent is not up-to-date"),!1});var a=function(){t(n,a)};n.addEventListener("connectionStatusChanged",a),"ready"!==n.currentState.name&&"disconnected"!==n.currentState.name||a()}else e("missing designer backplane.")}.bind(this),1)}.bind(this)).then(function(a,r){if(a.removeEventListener("connectionStatusChanged",r),"ready"===a.currentState.name)return a.listSerialPorts(t,e,n)}).finally(function(){this.stopBackplane()}.bind(this))),p},m.prototype.getListOfAvailableUsbHidPorts=function(t,e){return g.isPending()||(g=Q.promise(function(t,e){window.setTimeout(function(){var n=window.parent.gc&&window.parent.gc.services&&window.parent.gc.services["ti-core-backplane"];if(n){this.startBackplane(void 0,function(){return e("cloud agent is not up-to-date"),!1});var a=function(){t(n,a)};n.addEventListener("connectionStatusChanged",a),"ready"!==n.currentState.name&&"disconnected"!==n.currentState.name||a()}else e("missing designer backplane.")}.bind(this),1)}.bind(this)).then(function(n,a){if(n.removeEventListener("connectionStatusChanged",a),"ready"===n.currentState.name)return n._listUsbHidPorts(t,e)}).finally(function(){this.stopBackplane()}.bind(this))),g},m.prototype.reconnectBackplane=function(){var t=this;if(this.shouldAutoConnect()){var e=gc.services["ti-core-backplane"];return O=!0,e.disconnect(),this.waitForEvent(e,"connectionStatusChanged","isConnectedToCloudAgent",!1).then(function(){window.setTimeout(function(){O=!1,t.shouldAutoConnect()&&e.connect()},2500)}).fail(function(){O=!1})}},m.prototype.addConsoleMessage=function(t,e,n,a,r){this._progressData=this._progressData||{};h[n];"error"===e||r?(this._progressData.lastErrorMessage=t,this._progressData.lastErrorTooltip=a,this._progressData.lastErrorToast=r):"info"===e&&(this._progressData.lastProgressMessage=t,this._progressData.lastProgressTooltip=a),t&&(A("console-output",{message:t,type:e||"data",id:n,tooltip:a,showToast:r}),!e||"info"!==e&&"error"!==e||v())},m.prototype.setConnectionMessage=function(t,e,n){var a=h[t];a&&x(a,e,n)},m.prototype.setProgressMessage=function(t,e,n,a){var r=h[t];r&&(a?r.addConsoleError(e,n,a):r.addConsoleProgress(e,n))},m.prototype.setErrorMessage=function(t,e,n,a){var r=h[t];r&&r.addConsoleError(e,n,a)},m.prototype.setConnectedState=function(t,e){var n=h[t];n&&P(n,e)},m.prototype.onDisconnected=function(t){var e=h[t];e&&e.onDisconnected()},m.prototype.onConnected=function(t){var e=h[t];e&&e.onConnected()},m.prototype.getDefaultCcxmlFile=function(t,e){var n=h[t];if(n)return n._ccxmlText&&n._ccxmlText[e.toLowerCase()]},gc.connectionManager=new m,gc.databind.internal.AbstractTargetConnection=s,gc.connectionManager.then(function(){if(!gc.designer)return Q.promise(function(t){var e=window.onload,n=window.setTimeout(function(){n=null,t(),console.error("window.onload() never called.")},3e3);window.onload=function(){e&&e(),n&&(window.clearTimeout(n),n=null),t()}}).fail(function(t){console.error(t)})}).then("onLoad"),gc.connectionManagerReady=gc.connectionManagerReady||Q.Promise(function(t){return gc.connectionManagerFireReady=t,gc.connectionManager}),gc.connectionManagerFireReady(gc.connectionManager)}();